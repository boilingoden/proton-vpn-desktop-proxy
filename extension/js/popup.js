!function(){var t={310:function(t){"use strict";t.exports={appVersion:"1.2.6",appId:"jplgfhpmjnbigmhklmmbgecoobifkmpa",baseDomainURL:"https://account.proton.me",tokenDuration:1200,proxyHost:null,proxyPort:4443,singleProxyPort:!1,proxySecureCorePort:443,scheme:"https",apiDomainsExclusion:[],proxyLocalNetworkExclusion:["localhost","127.0.0.1","127.0.0.0/8","127.0.0.1:80","10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","[::1]","<local>"],signupEnabled:!0,torEnabled:!1,sentry:"https://5c4abb94f5a644b38cf8e3261dfad0e3@reports.proton.me/api/core/v4/reports/sentry/67"}},430:function(t,e,n){t.exports=n(627)},627:function(t,e){"use strict";var n=/(\w+)[-_].*/;function r(t,e){if(e[t])return e[t];var r=t.match(n);if(!r)throw new Error("Can't find lang or lcale with code "+t);return e[r[1]]}function o(t){return t>1}function i(t){return 1!==t}function a(t){return 0}var c={ach:{n:2,f:o},af:{n:2,f:i},ak:{n:2,f:o},am:{n:2,f:o},an:{n:2,f:i},ar:{n:6,f:function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5}},arn:{n:2,f:o},ast:{n:2,f:i},ay:{n:1,f:a},az:{n:2,f:i},be:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},bg:{n:2,f:i},bn:{n:2,f:i},bo:{n:1,f:a},br:{n:2,f:o},brx:{n:2,f:i},bs:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},ca:{n:2,f:i},cgg:{n:1,f:a},cs:{n:3,f:function(t){return 1===t?0:t>=2&&t<=4?1:2}},csb:{n:3,f:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},cy:{n:4,f:function(t){return 1===t?0:2===t?1:8!==t&&11!==t?2:3}},da:{n:2,f:i},de:{n:2,f:i},doi:{n:2,f:i},dz:{n:1,f:a},el:{n:2,f:i},en:{n:2,f:i},eo:{n:2,f:i},es:{n:2,f:i},et:{n:2,f:i},eu:{n:2,f:i},fa:{n:1,f:a},ff:{n:2,f:i},fi:{n:2,f:i},fil:{n:2,f:o},fo:{n:2,f:i},fr:{n:2,f:function(t){return t<=-2||t>=2}},fur:{n:2,f:i},fy:{n:2,f:i},ga:{n:5,f:function(t){return 1===t?0:2===t?1:t<7?2:t<11?3:4}},gd:{n:4,f:function(t){return 1===t||11===t?0:2===t||12===t?1:t>2&&t<20?2:3}},gl:{n:2,f:i},gu:{n:2,f:i},gun:{n:2,f:o},ha:{n:2,f:i},he:{n:2,f:i},hi:{n:2,f:i},hne:{n:2,f:i},hr:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},hu:{n:2,f:i},hy:{n:2,f:i},id:{n:1,f:a},is:{n:2,f:function(t){return t%10!=1||t%100==11}},it:{n:2,f:i},ja:{n:1,f:a},jbo:{n:1,f:a},jv:{n:2,f:function(t){return 0!==t}},ka:{n:1,f:a},kab:{n:2,f:i},kk:{n:2,f:i},km:{n:1,f:a},kn:{n:2,f:i},ko:{n:1,f:a},ku:{n:2,f:i},kw:{n:4,f:function(t){return 1===t?0:2===t?1:3===t?2:3}},ky:{n:1,f:a},lb:{n:2,f:i},ln:{n:2,f:o},lo:{n:1,f:a},lt:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2}},lv:{n:3,f:function(t){return t%10==1&&t%100!=11?0:0!==t?1:2}},mai:{n:2,f:i},mfe:{n:2,f:o},mg:{n:2,f:o},mi:{n:2,f:o},mk:{n:2,f:function(t){return 1===t||t%10==1?0:1}},ml:{n:2,f:i},mn:{n:2,f:i},mni:{n:2,f:i},mnk:{n:3,f:function(t){return 0===t?0:1===t?1:2}},mr:{n:2,f:i},ms:{n:1,f:a},mt:{n:4,f:function(t){return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3}},my:{n:1,f:a},nah:{n:2,f:i},nap:{n:2,f:i},nb:{n:2,f:i},ne:{n:2,f:i},nl:{n:2,f:i},nn:{n:2,f:i},no:{n:2,f:i},nso:{n:2,f:i},oc:{n:2,f:o},or:{n:2,f:i},pa:{n:2,f:i},pap:{n:2,f:i},pl:{n:3,f:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},pms:{n:2,f:i},ps:{n:2,f:i},pt:{n:2,f:i},rm:{n:2,f:i},ro:{n:3,f:function(t){return 1===t?0:0===t||t%100>0&&t%100<20?1:2}},ru:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},rw:{n:2,f:i},sah:{n:1,f:a},sat:{n:2,f:i},sco:{n:2,f:i},sd:{n:2,f:i},se:{n:2,f:i},si:{n:2,f:i},sk:{n:3,f:function(t){return 1===t?0:t>=2&&t<=4?1:2}},sl:{n:4,f:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0}},so:{n:2,f:i},son:{n:2,f:i},sq:{n:2,f:i},sr:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},su:{n:1,f:a},sv:{n:2,f:i},sw:{n:2,f:i},ta:{n:2,f:i},te:{n:2,f:i},tg:{n:2,f:o},th:{n:1,f:a},ti:{n:2,f:o},tk:{n:2,f:i},tr:{n:2,f:o},tt:{n:1,f:a},ug:{n:1,f:a},uk:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},ur:{n:2,f:i},uz:{n:2,f:o},vi:{n:1,f:a},wa:{n:2,f:o},wo:{n:1,f:a},yo:{n:2,f:i},zh:{n:1,f:a}};var s={};e.getPluralFunc=function(t){if(s[t])return s[t];var e=r(t,c),n=function(t,n){return n[+e.f(t)]};return s[t]=n,n}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";var t,e=n(310),r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=e.appVersion,a=(e.appId,e.baseDomainURL),c="".concat(a,"/").concat(""),s="".concat(c,"vpn/dashboard"),u="".concat(a,"/api/"),l=new URL(u).hostname,f=e.sentry,d=(o([l],r(e.apiDomainsExclusion),!1),e.proxyLocalNetworkExclusion,e.signupEnabled),p=e.torEnabled,v=e.tokenDuration,h=(Math.floor(v/4),e.proxyHost,e.proxyPort,e.singleProxyPort,e.proxySecureCorePort,!0),y=(e.scheme,function(){return y=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)}),g=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};!function(t){t.LOCAL="local",t.SYNC="sync",t.SESSION="session"}(t||(t={}));var b=t.LOCAL,w=b,_=function(e){return e===t.LOCAL?localStorage:sessionStorage},x={getDefinedItem:function(t,e,n){return void 0===n&&(n=b),g(this,void 0,void 0,(function(){return m(this,(function(r){switch(r.label){case 0:return[4,this.getItem(t,e,n)];case 1:return[2,r.sent()||e]}}))}))},getItem:function(e,n,r){return void 0===n&&(n=void 0),void 0===r&&(r=b),g(this,void 0,void 0,(function(){var o,i,a,c,s,u;return m(this,(function(l){switch(l.label){case 0:o="bex-"+e,l.label=1;case 1:return l.trys.push([1,5,,10]),[4,new Promise((function(t){chrome.storage[r].get(o,t)}))];case 2:return"object"==typeof(i=l.sent())&&i.hasOwnProperty(o)?[2,i[o]]:r===t.LOCAL&&t.SESSION in chrome.storage?[4,new Promise((function(e){chrome.storage[t.SESSION].get(o,e)}))]:[3,4];case 3:if("object"==typeof(a=l.sent())&&a.hasOwnProperty(o))return[2,a[o]];l.label=4;case 4:return[2,n];case 5:l.sent(),c=_(r),l.label=6;case 6:return l.trys.push([6,8,,9]),[4,c.getItem(o)];case 7:return"string"==typeof(s=l.sent())?[2,JSON.parse(s)]:[2,n];case 8:return l.sent(),[2,(u=window.bexStorage||(window.bexStorage={})).hasOwnProperty(e)?u[e]:n];case 9:return[3,10];case 10:return[2]}}))}))},setItem:function(t,e,n){return void 0===n&&(n=b),g(this,void 0,void 0,(function(){var r,o,i;return m(this,(function(a){switch(a.label){case 0:r="bex-"+t,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,chrome.storage[n].set((i={},i[r]=e,i))];case 2:return a.sent(),[3,4];case 3:a.sent(),o=JSON.stringify(e);try{_(n).setItem(r,o)}catch(n){(window.bexStorage||(window.bexStorage={}))[t]=e}return[3,4];case 4:return[2]}}))}))},removeItem:function(t,e){return void 0===e&&(e=b),g(this,void 0,void 0,(function(){var n;return m(this,(function(r){switch(r.label){case 0:n="bex-"+t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,chrome.storage[e].remove(n)];case 2:return r.sent(),[3,4];case 3:r.sent();try{_(e).removeItem(n)}catch(e){delete(window.bexStorage||(window.bexStorage={}))[t]}return[3,4];case 4:return[2]}}))}))},item:function(t,e,n){void 0===e&&(e=b),void 0===n&&(n="value");var r=this;return{key:t,get:function(n){return void 0===n&&(n=void 0),r.getItem(t,n,e)},getDefined:function(n){return r.getDefinedItem(t,n,e)},load:function(n){return void 0===n&&(n=void 0),g(this,void 0,void 0,(function(){var o;return m(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.getItem(t,n,e)];case 1:return[2,"object"==typeof(o=i.sent())?o:{}];case 2:return i.sent(),[2,{}];case 3:return[2]}}))}))},set:function(n){return r.setItem(t,n,e)},setValue:function(t,e){var r;return void 0===e&&(e={}),this.set(y(((r={time:Date.now()})[n]=t,r),e))},remove:function(){return r.removeItem(t,e)}}},selfItem:function(t,e){return void 0===e&&(e=b),this.item(t,e,t)}};const S="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,E="8.55.0",C=globalThis;function k(t,e,n){const r=n||C,o=r.__SENTRY__=r.__SENTRY__||{},i=o[E]=o[E]||{};return i[t]||(i[t]=e())}const O=["debug","info","warn","error","log","assert","trace"],T={};function P(t){if(!("console"in C))return t();const e=C.console,n={},r=Object.keys(T);r.forEach((t=>{const r=T[t];n[t]=e[t],e[t]=r}));try{return t()}finally{r.forEach((t=>{e[t]=n[t]}))}}const A=k("logger",(function(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return S?O.forEach((n=>{e[n]=(...e)=>{t&&P((()=>{C.console[n](`Sentry Logger [${n}]:`,...e)}))}})):O.forEach((t=>{e[t]=()=>{}})),e})),L=C;function N(){if(!("fetch"in L))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(t){return!1}}function I(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}const j="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,M=C,D={};function R(t){const e=D[t];if(e)return e;let n=M[t];if(I(n))return D[t]=n.bind(M);const r=M.document;if(r&&"function"==typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const o=e.contentWindow;o&&o[t]&&(n=o[t]),r.head.removeChild(e)}catch(e){j&&A.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?D[t]=n.bind(M):n}function U(t){D[t]=void 0}const $=Object.prototype.toString;function q(t){switch($.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return J(t,Error)}}function H(t,e){return $.call(t)===`[object ${e}]`}function B(t){return H(t,"ErrorEvent")}function G(t){return H(t,"DOMError")}function F(t){return H(t,"String")}function V(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function z(t){return null===t||V(t)||"object"!=typeof t&&"function"!=typeof t}function Z(t){return H(t,"Object")}function W(t){return"undefined"!=typeof Event&&J(t,Event)}function Y(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function J(t,e){try{return t instanceof e}catch(t){return!1}}function K(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}var X;function Q(t){return new et((e=>{e(t)}))}function tt(t){return new et(((e,n)=>{n(t)}))}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(X||(X={}));class et{constructor(t){et.prototype.__init.call(this),et.prototype.__init2.call(this),et.prototype.__init3.call(this),et.prototype.__init4.call(this),this._state=X.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}then(t,e){return new et(((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()}))}catch(t){return this.then((t=>t),t)}finally(t){return new et(((e,n)=>{let r,o;return this.then((e=>{o=!1,r=e,t&&t()}),(e=>{o=!0,r=e,t&&t()})).then((()=>{o?n(r):e(r)}))}))}__init(){this._resolve=t=>{this._setResult(X.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(X.REJECTED,t)}}__init3(){this._setResult=(t,e)=>{this._state===X.PENDING&&(Y(e)?e.then(this._resolve,this._reject):(this._state=t,this._value=e,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===X.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach((t=>{t[0]||(this._state===X.RESOLVED&&t[1](this._value),this._state===X.REJECTED&&t[2](this._value),t[0]=!0)}))}}}const nt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,rt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ot(t,e=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:c,publicKey:s}=t;return`${c}://${s}${e&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function it(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function at(t){const e="string"==typeof t?function(t){const e=rt.exec(t);if(!e)return void P((()=>{console.error(`Invalid Sentry Dsn: ${t}`)}));const[n,r,o="",i="",a="",c=""]=e.slice(1);let s="",u=c;const l=u.split("/");if(l.length>1&&(s=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return it({host:i,pass:o,path:s,projectId:u,port:a,protocol:n,publicKey:r})}(t):it(t);if(e&&function(t){if(!S)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find((e=>!t[e]&&(A.error(`Invalid Sentry Dsn: ${e} missing`),!0)))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(A.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(A.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(A.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}const ct=C;function st(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let i=0,a=0;const c=" > ",s=c.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=ut(n,l),!("html"===u||i>1&&a+o.length*s+u.length>=f));)o.push(u),a+=u.length,n=n.parentNode;return o.reverse().join(c)}catch(t){return"<unknown>"}}function ut(t,e){const n=t,r=[];if(!n||!n.tagName)return"";if(ct.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=e&&e.length?e.filter((t=>n.getAttribute(t))).map((t=>[t,n.getAttribute(t)])):null;if(o&&o.length)o.forEach((t=>{r.push(`[${t[0]}="${t[1]}"]`)}));else{n.id&&r.push(`#${n.id}`);const t=n.className;if(t&&F(t)){const e=t.split(/\s+/);for(const t of e)r.push(`.${t}`)}}const i=["aria-label","type","name","title","alt"];for(const t of i){const e=n.getAttribute(t);e&&r.push(`[${t}="${e}"]`)}return r.join("")}function lt(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function ft(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{K(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function dt(t,e,n=!1){return!!F(t)&&(H(e,"RegExp")?e.test(t):!!F(e)&&(n?t===e:t.includes(e)))}function pt(t,e=[],n=!1){return e.some((e=>dt(t,e,n)))}function vt(t,e,n){if(!(e in t))return;const r=t[e],o=n(r);"function"==typeof o&&yt(o,r);try{t[e]=o}catch(n){S&&A.log(`Failed to replace method "${e}" in object`,t)}}function ht(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch(n){S&&A.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function yt(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,ht(t,"__sentry_original__",e)}catch(t){}}function gt(t){return t.__sentry_original__}function mt(t){if(q(t))return{message:t.message,name:t.name,stack:t.stack,...wt(t)};if(W(t)){const e={type:t.type,target:bt(t.target),currentTarget:bt(t.currentTarget),...wt(t)};return"undefined"!=typeof CustomEvent&&J(t,CustomEvent)&&(e.detail=t.detail),e}return t}function bt(t){try{return e=t,"undefined"!=typeof Element&&J(e,Element)?st(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}var e}function wt(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}function _t(t){return xt(t,new Map)}function xt(t,e){if(function(t){if(!Z(t))return!1;try{const e=Object.getPrototypeOf(t).constructor.name;return!e||"Object"===e}catch(t){return!0}}(t)){const n=e.get(t);if(void 0!==n)return n;const r={};e.set(t,r);for(const n of Object.getOwnPropertyNames(t))void 0!==t[n]&&(r[n]=xt(t[n],e));return r}if(Array.isArray(t)){const n=e.get(t);if(void 0!==n)return n;const r=[];return e.set(t,r),t.forEach((t=>{r.push(xt(t,e))})),r}return t}const St="?",Et=/\(error: (.*)\)/,Ct=/captureMessage|captureException/;function kt(...t){const e=t.sort(((t,e)=>t[0]-e[0])).map((t=>t[1]));return(t,n=0,r=0)=>{const o=[],i=t.split("\n");for(let t=n;t<i.length;t++){const n=i[t];if(n.length>1024)continue;const a=Et.test(n)?n.replace(Et,"$1"):n;if(!a.match(/\S*Error: /)){for(const t of e){const e=t(a);if(e){o.push(e);break}}if(o.length>=50+r)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(Ot(e).function||"")&&e.pop();e.reverse(),Ct.test(Ot(e).function||"")&&(e.pop(),Ct.test(Ot(e).function||"")&&e.pop());return e.slice(0,50).map((t=>({...t,filename:t.filename||Ot(e).filename,function:t.function||St})))}(o.slice(r))}}function Ot(t){return t[t.length-1]||{}}const Tt="<anonymous>";function Pt(t){try{return t&&"function"==typeof t&&t.name||Tt}catch(t){return Tt}}function At(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach((e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)})),t}catch(t){return}}}function Lt(t,e=100,n=1/0){try{return It("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Nt(t,e=3,n=102400){const r=Lt(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?Nt(t,e-1,n):r;var o}function It(t,e,n=1/0,r=1/0,o=function(){const t="function"==typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(let t=0;t<e.length;t++)if(e[t]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}]}()){const[i,a]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const c=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(K(e))return"[VueViewModel]";if(Z(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${Pt(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(t){return`**non-serializable** (${t})`}var n}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const s="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===s)return c.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return It("",u.toJSON(),s-1,r,o)}catch(t){}const l=Array.isArray(e)?[]:{};let f=0;const d=mt(e);for(const t in d){if(!Object.prototype.hasOwnProperty.call(d,t))continue;if(f>=r){l[t]="[MaxProperties ~]";break}const e=d[t];l[t]=It(t,e,s-1,r,o),f++}return a(e),l}function jt(t,e=[]){return[t,e]}function Mt(t,e){const[n,r]=t;return[n,[...r,e]]}function Dt(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function Rt(t){return C.__SENTRY__&&C.__SENTRY__.encodePolyfill?C.__SENTRY__.encodePolyfill(t):(new TextEncoder).encode(t)}function Ut(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"==typeof r?r="string"==typeof t?r+t:[Rt(r),t]:r.push("string"==typeof t?Rt(t):t)}for(const t of n){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch(e){t=JSON.stringify(Lt(n))}o(t)}}return"string"==typeof r?r:function(t){const e=t.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}function $t(t){const e="string"==typeof t.data?Rt(t.data):t.data;return[_t({type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),e]}const qt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket",raw_security:"security"};function Ht(t){return qt[t]}function Bt(t){if(!t||!t.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}class Gt extends Error{constructor(t,e="warn"){super(t),this.message=t,this.logLevel=e}}function Ft(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return tt(new Gt("Not adding Promise because buffer limit was reached."));const o=r();return-1===e.indexOf(o)&&e.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(t){return new et(((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout((()=>{t&&t>0&&n(!1)}),t);e.forEach((t=>{Q(t).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function Vt(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n,,,i]=t.split(":",5),a=parseInt(e,10),c=1e3*(isNaN(a)?60:a);if(n)for(const t of n.split(";"))"metric_bucket"===t&&i&&!i.split(";").includes("custom")||(o[t]=r+c);else o.all=r+c}else a?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(a,r):429===e&&(o.all=r+6e4);return o}function zt(t,e,n=Ft(t.bufferSize||64)){let r={};return{send:function(o){const i=[];if(Dt(o,((e,n)=>{const o=Ht(n);if(function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)){const r=Zt(e,n);t.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(e)})),0===i.length)return Q({});const a=jt(o[0],i),c=e=>{Dt(a,((n,r)=>{const o=Zt(n,r);t.recordDroppedEvent(e,Ht(r),o)}))};return n.add((()=>e({body:Ut(a)}).then((t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&nt&&A.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=Vt(r,t),t)),(t=>{throw c("network_error"),t})))).then((t=>t),(t=>{if(t instanceof Gt)return nt&&A.error("Skipped sending event because buffer is full."),c("queue_overflow"),Q({});throw t}))},flush:t=>n.drain(t)}}function Zt(t,e){if("event"===e||"transaction"===e)return Array.isArray(t)?t[1]:void 0}const Wt=[];function Yt(t,e){for(const n of e)n&&n.afterAllSetup&&n.afterAllSetup(t)}function Jt(t,e,n){if(n[e.name])nt&&A.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===Wt.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),Wt.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",((e,r)=>n(e,r,t)))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign(((e,r)=>n(e,r,t)),{id:e.name});t.addEventProcessor(r)}nt&&A.log(`Integration installed: ${e.name}`)}}function Kt(){const t=C,e=t.crypto||t.msCrypto;let n=()=>16*Math.random();try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const t=new Uint8Array(1);return e.getRandomValues(t),t[0]})}catch(t){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(t=>(t^(15&n())>>t/4).toString(16)))}function Xt(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Qt(t){const{message:e,event_id:n}=t;if(e)return e;const r=Xt(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function te(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function ee(t,e){const n=Xt(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r&&r.data,...e.data};n.mechanism.data=t}}function ne(t){if(function(t){try{return t.__sentry_captured__}catch(t){}}(t))return!0;try{ht(t,"__sentry_captured__",!0)}catch(t){}return!1}const re=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/],oe=(t={})=>({name:"InboundFilters",processEvent(e,n,r){const o=r.getOptions(),i=function(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:re],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(t,o);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t))return nt&&A.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Qt(t)}`),!0;if(function(t,e){if(t.type||!e||!e.length)return!1;return function(t){const e=[];t.message&&e.push(t.message);let n;try{n=t.exception.values[t.exception.values.length-1]}catch(t){}n&&n.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`));return e}(t).some((t=>pt(t,e)))}(t,e.ignoreErrors))return nt&&A.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Qt(t)}`),!0;if(function(t){if(t.type)return!1;if(!t.exception||!t.exception.values||0===t.exception.values.length)return!1;return!t.message&&!t.exception.values.some((t=>t.stacktrace||t.type&&"Error"!==t.type||t.value))}(t))return nt&&A.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Qt(t)}`),!0;if(function(t,e){if("transaction"!==t.type||!e||!e.length)return!1;const n=t.transaction;return!!n&&pt(n,e)}(t,e.ignoreTransactions))return nt&&A.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Qt(t)}`),!0;if(function(t,e){if(!e||!e.length)return!1;const n=ie(t);return!!n&&pt(n,e)}(t,e.denyUrls))return nt&&A.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Qt(t)}.\nUrl: ${ie(t)}`),!0;if(!function(t,e){if(!e||!e.length)return!0;const n=ie(t);return!n||pt(n,e)}(t,e.allowUrls))return nt&&A.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Qt(t)}.\nUrl: ${ie(t)}`),!0;return!1}(e,i)?null:e}});function ie(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(e):null}catch(e){return nt&&A.error(`Cannot extract url for event ${Qt(t)}`),null}}function ae(){return ce(C),C}function ce(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||E,e[E]=e[E]||{}}function se(){return Date.now()/1e3}const ue=function(){const{performance:t}=C;if(!t||!t.now)return se;const e=Date.now()-t.now(),n=null==t.timeOrigin?e:t.timeOrigin;return()=>(n+t.now())/1e3}();let le;(()=>{const{performance:t}=C;if(!t||!t.now)return void(le="none");const e=36e5,n=t.now(),r=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,i=o<e,a=t.timing&&t.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-r):e;i||c<e?o<=c?(le="timeOrigin",t.timeOrigin):le="navigationStart":le="dateNow"})();function fe(t){const e=ue(),n={sid:Kt(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return _t({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}(n)};return t&&de(n,t),n}function de(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ue(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:Kt()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function pe(){return Kt()}function ve(){return Kt().substring(16)}function he(t,e,n=2){if(!e||"object"!=typeof e||n<=0)return e;if(t&&e&&0===Object.keys(e).length)return t;const r={...t};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=he(r[t],e[t],n-1));return r}const ye="_sentrySpan";function ge(t,e){e?ht(t,ye,e):delete t[ye]}function me(t){return t[ye]}class be{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:pe(),spanId:ve()}}clone(){const t=new be;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ge(t,me(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&de(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,[n,r]=e instanceof we?[e.getScopeData(),e.getRequestSession()]:Z(e)?[t,t.requestSession]:[],{tags:o,extra:i,user:a,contexts:c,level:s,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...o},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),s&&(this._level=s),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),r&&(this._requestSession=r),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,ge(this,void 0),this._attachments=[],this.setPropagationContext({traceId:pe()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:se(),...t};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client&&this._client.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:me(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=he(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext={spanId:ve(),...t},this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e&&e.event_id?e.event_id:Kt();if(!this._client)return A.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=n&&n.event_id?n.event_id:Kt();if(!this._client)return A.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureEvent(t,e){const n=e&&e.event_id?e.event_id:Kt();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(A.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((t=>{t(this)})),this._notifyingListeners=!1)}}const we=be;class _e{constructor(t,e){let n,r;n=t||new we,r=e||new we,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return Y(n)?n.then((t=>(this._popScope(),t)),(t=>{throw this._popScope(),t})):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function xe(){const t=ce(ae());return t.stack=t.stack||new _e(k("defaultCurrentScope",(()=>new we)),k("defaultIsolationScope",(()=>new we)))}function Se(t){return xe().withScope(t)}function Ee(t,e){const n=xe();return n.withScope((()=>(n.getStackTop().scope=t,e(t))))}function Ce(t){return xe().withScope((()=>t(xe().getIsolationScope())))}function ke(t){const e=ce(t);return e.acs?e.acs:{withIsolationScope:Ce,withScope:Se,withSetScope:Ee,withSetIsolationScope:(t,e)=>Ce(e),getCurrentScope:()=>xe().getScope(),getIsolationScope:()=>xe().getIsolationScope()}}function Oe(){return ke(ae()).getCurrentScope()}function Te(){return ke(ae()).getIsolationScope()}function Pe(){return Oe().getClient()}function Ae(t){const e=t.getPropagationContext(),{traceId:n,spanId:r,parentSpanId:o}=e;return _t({trace_id:n,span_id:r,parent_span_id:o})}let Le;const Ne=new WeakMap,Ie=()=>({name:"FunctionToString",setupOnce(){Le=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=gt(this),n=Ne.has(Pe())&&void 0!==e?e:this;return Le.apply(n,t)}}catch(t){}},setup(t){Ne.set(t,!0)}}),je=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!De(t,e))return!1;if(!Me(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=Re(e),r=Re(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!De(t,e))return!1;if(!Me(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return nt&&A.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){}return t=e}}};function Me(t,e){let n=At(t),r=At(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],o=n[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function De(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(t){return!1}}function Re(t){return t.exception&&t.exception.values&&t.exception.values[0]}const Ue={},$e={};function qe(t,e){Ue[t]=Ue[t]||[],Ue[t].push(e)}function He(t,e){if(!$e[t]){$e[t]=!0;try{e()}catch(e){S&&A.error(`Error while instrumenting ${t}`,e)}}}function Be(t,e){const n=t&&Ue[t];if(n)for(const r of n)try{r(e)}catch(e){S&&A.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${Pt(r)}\nError:`,e)}}let Ge,Fe,Ve;function ze(){if(!M.document)return;const t=Be.bind(null,"dom"),e=Ze(t,!0);M.document.addEventListener("click",e,!1),M.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((e=>{const n=M[e],r=n&&n.prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(vt(r,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=Ze(t);i.handler=r,e.call(this,n,r,o)}i.refCount++}catch(t){}return e.call(this,n,r,o)}})),vt(r,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete n[e]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}function Ze(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch(t){return null}}(n);if(function(t,e){return"keypress"===t&&(!e||!e.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;ht(n,"_sentryCaptured",!0),r&&!r._sentryId&&ht(r,"_sentryId",Kt());const o="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==Fe)return!1;try{if(!t.target||t.target._sentryId!==Ve)return!1}catch(t){}return!0}(n)){t({event:n,name:o,global:e}),Fe=n.type,Ve=r?r._sentryId:void 0}clearTimeout(Ge),Ge=M.setTimeout((()=>{Ve=void 0,Fe=void 0}),1e3)}}const We="__sentry_xhr_v3__";function Ye(){if(!M.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const r=new Error,o=1e3*ue(),i=F(n[0])?n[0].toUpperCase():void 0,a=function(t){if(F(t))return t;try{return t.toString()}catch(t){}return}(n[1]);if(!i||!a)return t.apply(e,n);e[We]={method:i,url:a,request_headers:{}},"POST"===i&&a.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const c=()=>{const t=e[We];if(t&&4===e.readyState){try{t.status_code=e.status}catch(t){}Be("xhr",{endTimestamp:1e3*ue(),startTimestamp:o,xhr:e,virtualError:r})}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply(t,e,n){return c(),t.apply(e,n)}}):e.addEventListener("readystatechange",c),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[r,o]=n,i=e[We];return i&&F(r)&&F(o)&&(i.request_headers[r.toLowerCase()]=o),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const r=e[We];if(!r)return t.apply(e,n);void 0!==n[0]&&(r.body=n[0]);return Be("xhr",{startTimestamp:1e3*ue(),xhr:e}),t.apply(e,n)}})}const Je=C;let Ke;function Xe(t){const e="history";qe(e,t),He(e,Qe)}function Qe(){if(!function(){const t=Je.chrome,e=t&&t.app&&t.app.runtime,n="history"in Je&&!!Je.history.pushState&&!!Je.history.replaceState;return!e&&n}())return;const t=M.onpopstate;function e(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const t=Ke,e=String(n);Ke=e;Be("history",{from:t,to:e})}return t.apply(this,e)}}M.onpopstate=function(...e){const n=M.location.href,r=Ke;Ke=n;if(Be("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(t){}},vt(M.history,"pushState",e),vt(M.history,"replaceState",e)}function tn(){"console"in C&&O.forEach((function(t){t in C.console&&vt(C.console,t,(function(e){return T[t]=e,function(...e){Be("console",{args:e,level:t});const n=T[t];n&&n.apply(C.console,e)}}))}))}function en(t,e=!1){e&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!N())return!1;if(I(L.fetch))return!0;let t=!1;const e=L.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=I(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){S&&A.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}()||vt(C,"fetch",(function(e){return function(...n){const r=new Error,{method:o,url:i}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:rn(e),method:nn(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:rn(e),method:nn(e,"method")?String(e.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:o,url:i},startTimestamp:1e3*ue(),virtualError:r};return t||Be("fetch",{...a}),e.apply(C,n).then((async e=>(t?t(e):Be("fetch",{...a,endTimestamp:1e3*ue(),response:e}),e)),(t=>{throw Be("fetch",{...a,endTimestamp:1e3*ue(),error:t}),q(t)&&void 0===t.stack&&(t.stack=r.stack,ht(t,"framesToPop",1)),t}))}}))}function nn(t,e){return!!t&&"object"==typeof t&&!!t[e]}function rn(t){return"string"==typeof t?t:t?nn(t,"url")?t.url:t.toString?t.toString():"":""}const on=100;function an(t,e){const n=Pe(),r=Te();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=on}=n.getOptions();if(i<=0)return;const a={timestamp:se(),...t},c=o?P((()=>o(a,e))):a;null!==c&&(n.emit&&n.emit("beforeAddBreadcrumb",c,e),r.addBreadcrumb(c,i))}function cn(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}function sn(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function un(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}const ln="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,fn="production";function dn(t,e,n,r=0){return new et(((o,i)=>{const a=t[r];if(null===e||"function"!=typeof a)o(e);else{const c=a({...e},n);nt&&a.id&&null===c&&A.log(`Event processor "${a.id}" dropped event`),Y(c)?c.then((e=>dn(t,e,n,r+1).then(o))).then(null,i):dn(t,c,n,r+1).then(o).then(null,i)}}))}let pn,vn,hn;function yn(t){const e=C._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return hn&&n.length===vn||(vn=n.length,hn=n.reduce(((n,r)=>{pn||(pn={});const o=pn[r];if(o)n[o[0]]=o[1];else{const o=t(r);for(let t=o.length-1;t>=0;t--){const i=o[t],a=i&&i.filename,c=e[r];if(a&&c){n[a]=c,pn[r]=[a,c];break}}}return n}),{})),hn}const gn=/^sentry-/;function mn(t){const e=function(t){if(!t||!F(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce(((t,e)=>{const n=bn(e);return Object.entries(n).forEach((([e,n])=>{t[e]=n})),t}),{});return bn(t)}(t);if(!e)return;const n=Object.entries(e).reduce(((t,[e,n])=>{if(e.match(gn)){t[e.slice(7)]=n}return t}),{});return Object.keys(n).length>0?n:void 0}function bn(t){return t.split(",").map((t=>t.split("=").map((t=>decodeURIComponent(t.trim()))))).reduce(((t,[e,n])=>(e&&n&&(t[e]=n),t)),{})}const wn="_sentryMetrics";function _n(t){const e=t[wn];if(!e)return;const n={};for(const[,[t,r]]of e){(n[t]||(n[t]=[])).push(_t(r))}return n}let xn=!1;function Sn(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext();return _t({parent_span_id:r?e:kn(t).parent_span_id,span_id:r?ve():e,trace_id:n})}function En(t){return"number"==typeof t?Cn(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Cn(t.getTime()):ue()}function Cn(t){return t>9999999999?t/1e3:t}function kn(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();try{const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:r,startTime:o,name:i,endTime:a,parentSpanId:c,status:s}=t;return _t({span_id:e,trace_id:n,data:r,description:i,parent_span_id:c,start_timestamp:En(o),timestamp:En(a)||void 0,status:Tn(s),op:r["sentry.op"],origin:r["sentry.origin"],_metrics_summary:_n(t)})}return{span_id:e,trace_id:n}}catch(t){return{}}}function On(t){const{traceFlags:e}=t.spanContext();return 1===e}function Tn(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}const Pn="_sentryRootSpan";function An(t){return t[Pn]||t}function Ln(){xn||(P((()=>{console.warn("[Sentry] Deprecation warning: Returning null from `beforeSendSpan` will be disallowed from SDK version 9.0.0 onwards. The callback will only support mutating spans. To drop certain spans, configure the respective integrations directly.")})),xn=!0)}const Nn="_frozenDsc";function In(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},o=_t({environment:n.environment||fn,release:n.release,public_key:r,trace_id:t});return e.emit("createDsc",o),o}function jn(t){const e=Pe();if(!e)return{};const n=An(t),r=n[Nn];if(r)return r;const o=n.spanContext().traceState,i=o&&o.get("sentry.dsc"),a=i&&mn(i);if(a)return a;const c=In(t.spanContext().traceId,e),s=kn(n),u=s.data||{},l=u["sentry.sample_rate"];null!=l&&(c.sample_rate=`${l}`);const f=u["sentry.source"],d=s.description;return"url"!==f&&d&&(c.transaction=d),function(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=Pe(),n=t||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}()&&(c.sampled=String(On(n))),e.emit("createDsc",c,n),c}function Mn(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:c}=e,s=_t(n);s&&Object.keys(s).length&&(t.extra={...s,...t.extra});const u=_t(r);u&&Object.keys(u).length&&(t.tags={...u,...t.tags});const l=_t(o);l&&Object.keys(l).length&&(t.user={...l,...t.user});const f=_t(i);f&&Object.keys(f).length&&(t.contexts={...f,...t.contexts});a&&(t.level=a);c&&"transaction"!==t.type&&(t.transaction=c)}(t,e),r&&function(t,e){t.contexts={trace:Sn(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:jn(e),...t.sdkProcessingMetadata};const n=An(e),r=kn(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}function Dn(t,e){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:s,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:d,transactionName:p,span:v}=e;Rn(t,"extra",n),Rn(t,"tags",r),Rn(t,"user",o),Rn(t,"contexts",i),t.sdkProcessingMetadata=he(t.sdkProcessingMetadata,c,2),a&&(t.level=a),p&&(t.transactionName=p),v&&(t.span=v),s.length&&(t.breadcrumbs=[...t.breadcrumbs,...s]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...d}}function Rn(t,e,n){t[e]=he(t[e],n,1)}function Un(t,e,n,r,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,s={...e,event_id:e.event_id||n.event_id||Kt(),timestamp:e.timestamp||se()},u=n.integrations||t.integrations.map((t=>t.name));!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;t.environment=t.environment||n||fn,!t.release&&r&&(t.release=r);!t.dist&&o&&(t.dist=o);t.message&&(t.message=lt(t.message,i));const a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=lt(a.value,i));const c=t.request;c&&c.url&&(c.url=lt(c.url,i))}(s,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(s,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=yn(e);try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{n&&t.filename&&(t.debug_id=n[t.filename])}))}))}catch(t){}}(s,t.stackParser);const l=function(t,e){if(!e)return t;const n=t?t.clone():new we;return n.update(e),n}(r,n.captureContext);n.mechanism&&ee(s,n.mechanism);const f=o?o.getEventProcessors():[],d=k("globalScope",(()=>new we)).getScopeData();if(i){Dn(d,i.getScopeData())}if(l){Dn(d,l.getScopeData())}const p=[...n.attachments||[],...d.attachments];p.length&&(n.attachments=p),Mn(s,d);return dn([...f,...d.eventProcessors],s,n).then((t=>(t&&function(t){const e={};try{t.exception.values.forEach((t=>{t.stacktrace.frames.forEach((t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)}))}))}catch(t){}if(0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach((([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})}))}(t),"number"==typeof a&&a>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((t=>({...t,...t.data&&{data:Lt(t.data,e,n)}})))},...t.user&&{user:Lt(t.user,e,n)},...t.contexts&&{contexts:Lt(t.contexts,e,n)},...t.extra&&{extra:Lt(t.extra,e,n)}};t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Lt(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map((t=>({...t,...t.data&&{data:Lt(t.data,e,n)}}))));t.contexts&&t.contexts.flags&&r.contexts&&(r.contexts.flags=Lt(t.contexts.flags,3,n));return r}(t,a,c):t)))}function $n(t){if(t)return function(t){return t instanceof we||"function"==typeof t}(t)||function(t){return Object.keys(t).some((t=>qn.includes(t)))}(t)?{captureContext:t}:t}const qn=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Hn(t,e){return Oe().captureEvent(t,e)}function Bn(t){const e=Pe(),n=Te(),r=Oe(),{release:o,environment:i=fn}=e&&e.getOptions()||{},{userAgent:a}=C.navigator||{},c=fe({release:o,environment:i,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...t}),s=n.getSession();return s&&"ok"===s.status&&de(s,{status:"exited"}),Gn(),n.setSession(c),r.setSession(c),c}function Gn(){const t=Te(),e=Oe(),n=e.getSession()||t.getSession();n&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),de(t,n)}(n),Fn(),t.setSession(),e.setSession()}function Fn(){const t=Te(),e=Oe(),n=Pe(),r=e.getSession()||t.getSession();r&&n&&n.captureSession(r)}function Vn(t=!1){t?Gn():Fn()}const zn=C;let Zn=0;function Wn(){return Zn>0}function Yn(t,e={}){if(!function(t){return"function"==typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"==typeof e?e:t;if(gt(t))return t}catch(e){return t}const n=function(...n){try{const r=n.map((t=>Yn(t,e)));return t.apply(this,r)}catch(t){throw Zn++,setTimeout((()=>{Zn--})),function(...t){const e=ke(ae());if(2===t.length){const[n,r]=t;return n?e.withSetScope(n,r):e.withScope(r)}e.withScope(t[0])}((r=>{var o,i;r.addEventProcessor((t=>(e.mechanism&&(te(t,void 0,void 0),ee(t,e.mechanism)),t.extra={...t.extra,arguments:n},t))),o=t,Oe().captureException(o,$n(i))})),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch(t){}yt(n,t),ht(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch(t){}return n}const Jn=1024,Kn=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){var n;e.console&&function(t){const e="console";qe(e,t),He(e,tn)}(function(t){return function(e){if(Pe()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:cn(e.level),message:ft(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${ft(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}an(n,{input:e.args,level:e.level})}}(t)),e.dom&&(n=function(t,e){return function(n){if(Pe()!==t)return;let r,o,i="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>Jn&&(ln&&A.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Jn),"string"==typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=st(e,{keyAttrs:i,maxStringLength:a}),o=function(t){if(!ct.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}(e)}catch(t){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};o&&(c.data={"ui.component_name":o}),an(c,{event:n.event,name:n.name,global:n.global})}}(t,e.dom),qe("dom",n),He("dom",ze)),e.xhr&&function(t){qe("xhr",t),He("xhr",Ye)}(function(t){return function(e){if(Pe()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,o=e.xhr[We];if(!n||!r||!o)return;const{method:i,url:a,status_code:c,body:s}=o,u={method:i,url:a,status_code:c},l={xhr:e.xhr,input:s,startTimestamp:n,endTimestamp:r};an({category:"xhr",data:u,type:"http",level:sn(c)},l)}}(t)),e.fetch&&function(t,e){const n="fetch";qe(n,t),He(n,(()=>en(void 0,e)))}(function(t){return function(e){if(Pe()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.error){an({category:"fetch",data:e.fetchData,level:"error",type:"http"},{data:e.error,input:e.args,startTimestamp:n,endTimestamp:r})}else{const t=e.response,o={...e.fetchData,status_code:t&&t.status},i={input:e.args,response:t,startTimestamp:n,endTimestamp:r};an({category:"fetch",data:o,type:"http",level:sn(o.status_code)},i)}}}(t)),e.history&&Xe(function(t){return function(e){if(Pe()!==t)return;let n=e.from,r=e.to;const o=un(zn.location.href);let i=n?un(n):void 0;const a=un(r);i&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),an({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){Pe()===t&&an({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Qt(e)},{event:e})}}(t))}}};const Xn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Qn=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&vt(zn,"setTimeout",tr),e.setInterval&&vt(zn,"setInterval",tr),e.requestAnimationFrame&&vt(zn,"requestAnimationFrame",er),e.XMLHttpRequest&&"XMLHttpRequest"in zn&&vt(XMLHttpRequest.prototype,"send",nr);const t=e.eventTarget;if(t){(Array.isArray(t)?t:Xn).forEach(rr)}}}};function tr(t){return function(...e){const n=e[0];return e[0]=Yn(n,{mechanism:{data:{function:Pt(t)},handled:!1,type:"instrument"}}),t.apply(this,e)}}function er(t){return function(e){return t.apply(this,[Yn(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Pt(t)},handled:!1,type:"instrument"}})])}}function nr(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((t=>{t in n&&"function"==typeof n[t]&&vt(n,t,(function(e){const n={mechanism:{data:{function:t,handler:Pt(e)},handled:!1,type:"instrument"}},r=gt(e);return r&&(n.mechanism.data.handler=Pt(r)),Yn(e,n)}))})),t.apply(this,e)}}function rr(t){const e=zn[t],n=e&&e.prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(vt(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Yn(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Pt(r),target:t},handled:!1,type:"instrument"}}))}catch(t){}return e.apply(this,[n,Yn(r,{mechanism:{data:{function:"addEventListener",handler:Pt(r),target:t},handled:!1,type:"instrument"}}),o])}})),vt(n,"removeEventListener",(function(t){return function(e,n,r){try{const o=n.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch(t){}return t.call(this,e,n,r)}})))}const or=()=>({name:"BrowserSession",setupOnce(){void 0!==zn.document?(Bn({ignoreDuration:!0}),Vn(),Xe((({from:t,to:e})=>{void 0!==t&&t!==e&&(Bn({ignoreDuration:!0}),Vn())}))):ln&&A.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let ir=null;function ar(){ir=C.onerror,C.onerror=function(t,e,n,r,o){return Be("error",{column:r,error:o,line:n,msg:t,url:e}),!!ir&&ir.apply(this,arguments)},C.onerror.__SENTRY_INSTRUMENTED__=!0}let cr=null;function sr(){cr=C.onunhandledrejection,C.onunhandledrejection=function(t){return Be("unhandledrejection",t),!cr||cr.apply(this,arguments)},C.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function ur(t,e){const n=dr(t,e),r={type:hr(e),value:yr(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function lr(t,e,n,r){const o=Pe(),i=o&&o.getOptions().normalizeDepth,a=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),c={__serialized__:Nt(e,i)};if(a)return{exception:{values:[ur(t,a)]},extra:c};const s={exception:{values:[{type:W(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:br(e,{isUnhandledRejection:r})}]},extra:c};if(n){const e=dr(t,n);e.length&&(s.exception.values[0].stacktrace={frames:e})}return s}function fr(t,e){return{exception:{values:[ur(t,e)]}}}function dr(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&pr.test(t.message))return 1;return 0}(e),o=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,o)}catch(t){}return[]}const pr=/Minified React error #\d+;/i;function vr(t){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&t instanceof WebAssembly.Exception}function hr(t){const e=t&&t.name;if(!e&&vr(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function yr(t){const e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:vr(t)&&Array.isArray(t.message)&&2==t.message.length?t.message[1]:e:"No error message"}function gr(t,e,n,r,o){let i;if(B(e)&&e.error){return fr(t,e.error)}if(G(e)||H(e,"DOMException")){const o=e;if("stack"in e)i=fr(t,e);else{const e=o.name||(G(o)?"DOMError":"DOMException"),a=o.message?`${e}: ${o.message}`:e;i=mr(t,a,n,r),te(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(q(e))return fr(t,e);if(Z(e)||W(e)){return i=lr(t,e,n,o),ee(i,{synthetic:!0}),i}return i=mr(t,e,n,r),te(i,`${e}`,void 0),ee(i,{synthetic:!0}),i}function mr(t,e,n,r){const o={};if(r&&n){const r=dr(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]}),ee(o,{synthetic:!0})}if(V(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function br(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys(mt(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return lt(r,e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:lt(r,e)}return""}(t),r=e?"promise rejection":"exception";if(B(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(W(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch(t){}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}const wr=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){!function(t){const e="error";qe(e,t),He(e,ar)}((e=>{const{stackParser:n,attachStacktrace:r}=xr();if(Pe()!==t||Wn())return;const{msg:o,url:i,line:a,column:c,error:s}=e,u=function(t,e,n,r){const o=t.exception=t.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},c=a.stacktrace=a.stacktrace||{},s=c.frames=c.frames||[],u=r,l=n,f=F(e)&&e.length>0?e:function(){try{return ct.document.location.href}catch(t){return""}}();0===s.length&&s.push({colno:u,filename:f,function:St,in_app:!0,lineno:l});return t}(gr(n,s||o,void 0,r,!1),i,a,c);u.level="error",Hn(u,{originalException:s,mechanism:{handled:!1,type:"onerror"}})}))}(t),_r("onerror")),e.onunhandledrejection&&(!function(t){!function(t){const e="unhandledrejection";qe(e,t),He(e,sr)}((e=>{const{stackParser:n,attachStacktrace:r}=xr();if(Pe()!==t||Wn())return;const o=function(t){if(z(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(t){}return t}(e),i=z(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:gr(n,o,void 0,r,!0);i.level="error",Hn(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(t),_r("onunhandledrejection"))}}};function _r(t){ln&&A.log(`Global Handler attached: ${t}`)}function xr(){const t=Pe();return t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Sr=()=>({name:"HttpContext",preprocessEvent(t){if(!zn.navigator&&!zn.location&&!zn.document)return;const e=t.request&&t.request.url||zn.location&&zn.location.href,{referrer:n}=zn.document||{},{userAgent:r}=zn.navigator||{},o={...t.request&&t.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...t.request,...e&&{url:e},headers:o};t.request=i}});function Er(t,e,n=250,r,o,i,a){if(!(i.exception&&i.exception.values&&a&&J(a.originalException,Error)))return;const c=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var s,u;c&&(i.exception.values=(s=Cr(t,e,o,a.originalException,r,i.exception.values,c,0),u=n,s.map((t=>(t.value&&(t.value=lt(t.value,u)),t)))))}function Cr(t,e,n,r,o,i,a,c){if(i.length>=n+1)return i;let s=[...i];if(J(r[o],Error)){kr(a,c);const i=t(e,r[o]),u=s.length;Or(i,o,u,c),s=Cr(t,e,n,r[o],o,[i,...s],i,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(J(r,Error)){kr(a,c);const u=t(e,r),l=s.length;Or(u,`errors[${i}]`,l,c),s=Cr(t,e,n,r,o,[u,...s],u,l)}})),s}function kr(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function Or(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}const Tr=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,o){const i=o.getOptions();Er(ur,i.stackParser,i.maxValueLength,n,e,t,r)}}};function Pr(t){const e=[oe(),Ie(),Qn(),Kn(),wr(),Tr(),je(),Sr()];return!1!==t.autoSessionTracking&&e.push(or()),e}function Ar(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Lr(t,e,n){return e||`${function(t){return`${Ar(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}function Nr(t,e,n,r){const o=Bt(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]])}(t,n&&n.sdk);const a=function(t,e,n,r){const o=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:ot(r)},...o&&{trace:_t({...o})}}}(t,o,r,e);delete t.sdkProcessingMetadata;return jt(a,[[{type:i},t]])}const Ir="Not capturing exception because it's already been captured.";class jr{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=at(t.dsn):nt&&A.warn("No DSN provided, client will not send events."),this._dsn){const e=Lr(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}const e=["enableTracing","tracesSampleRate","tracesSampler"].find((e=>e in t&&null==t[e]));e&&P((()=>{console.warn(`[Sentry] Deprecation warning: \`${e}\` is set to undefined, which leads to tracing being enabled. In v9, a value of \`undefined\` will result in tracing being disabled.`)}))}captureException(t,e,n){const r=Kt();if(ne(t))return nt&&A.log(Ir),r;const o={event_id:r,...e};return this._process(this.eventFromException(t,o).then((t=>this._captureEvent(t,o,n)))),o.event_id}captureMessage(t,e,n,r){const o={event_id:Kt(),...n},i=V(t)?t:String(t),a=z(t)?this.eventFromMessage(i,e,o):this.eventFromException(t,o);return this._process(a.then((t=>this._captureEvent(t,o,r)))),o.event_id}captureEvent(t,e,n){const r=Kt();if(e&&e.originalException&&ne(e.originalException))return nt&&A.log(Ir),r;const o={event_id:r,...e},i=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,o,i||n)),o.event_id}captureSession(t){"string"!=typeof t.release?nt&&A.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),de(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then((n=>e.flush(t).then((t=>n&&t))))):Q(!0)}close(t){return this.flush(t).then((t=>(this.getOptions().enabled=!1,this.emit("close"),t)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some((({name:t})=>t.startsWith("Spotlight"))))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];Jt(this,t,this._integrations),e||Yt(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=Nr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=Mt(n,$t(t));const r=this.sendEnvelope(n);r&&r.then((e=>this.emit("afterSendEvent",t,e)),null)}sendSession(t){const e=function(t,e,n,r){const o=Bt(n);return jt({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:ot(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(e)}recordDroppedEvent(t,e,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${t}:${e}`;nt&&A.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach((t=>t(...e)))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,(t=>(nt&&A.error("Error while sending envelope:",t),t))):(nt&&A.error("Transport disabled"),Q({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach((e=>{e&&Jt(t,e,n)})),n}(this,t),Yt(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,r=!1;const o=e.exception&&e.exception.values;if(o){r=!0;for(const t of o){const e=t.mechanism;if(e&&!1===e.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(de(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new et((e=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n=Oe(),r=Te()){const o=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i.length>0&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),Un(o,t,e,n,this,r).then((t=>{if(null===t)return t;t.contexts={trace:Ae(n),...t.contexts};const e=function(t,e){const n=e.getPropagationContext();return n.dsc||In(n.traceId,t)}(this,n);return t.sdkProcessingMetadata={dynamicSamplingContext:e,...t.sdkProcessingMetadata},t}))}_captureEvent(t,e={},n){return this._processEvent(t,e,n).then((t=>t.event_id),(t=>{nt&&(t instanceof Gt&&"log"===t.logLevel?A.log(t.message):A.warn(t))}))}_processEvent(t,e,n){const r=this.getOptions(),{sampleRate:o}=r,i=Dr(t),a=Mr(t),c=t.type||"error",s=`before send for type \`${c}\``,u=void 0===o?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;if(!("number"!=typeof e||isNaN(e)||e<0||e>1))return e;nt&&A.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`)}(o);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",t),tt(new Gt(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===c?"replay":c,f=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,e,n,f).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,t),new Gt("An event processor returned `null`, will not send event.","log");if(e.data&&!0===e.data.__sentry__)return n;const o=function(t,e,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a}=e;if(Mr(n)&&o)return o(n,r);if(Dr(n)){if(n.spans&&a){const e=[];for(const r of n.spans){const n=a(r);n?e.push(n):(Ln(),t.recordDroppedEvent("before_send","span"))}n.spans=e}if(i){if(n.spans){const t=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return i(n,r)}}return n}(this,r,n,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(Y(t))return t.then((t=>{if(!Z(t)&&null!==t)throw new Gt(n);return t}),(t=>{throw new Gt(`${e} rejected with ${t}`)}));if(!Z(t)&&null!==t)throw new Gt(n);return t}(o,s)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,t),i){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw new Gt(`${s} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const t=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const a=r.transaction_info;if(i&&a&&r.transaction!==t.transaction){const t="custom";r.transaction_info={...a,source:t}}return this.sendEvent(r,e),r})).then(null,(t=>{if(t instanceof Gt)throw t;throw this.captureException(t,{data:{__sentry__:!0},originalException:t}),new Gt(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)}))}_process(t){this._numProcessing++,t.then((t=>(this._numProcessing--,t)),(t=>(this._numProcessing--,t)))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map((([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}}))}_flushOutcomes(){nt&&A.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(nt&&A.log("No outcomes to send"));if(!this._dsn)return void(nt&&A.log("No dsn provided, will not send outcomes"));nt&&A.log("Sending outcomes:",t);const e=(n=t,jt((r=this._options.tunnel&&ot(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||se(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(e)}}function Mr(t){return void 0===t.type}function Dr(t){return"transaction"===t.type}class Rr extends jr{constructor(t){const e={parentSpanIsAlwaysRootSpan:!0,...t};!function(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map((t=>({name:`${r}:@sentry/${t}`,version:E}))),version:E}),t._metadata=o}(e,"browser",["browser"],zn.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&zn.document&&zn.document.addEventListener("visibilitychange",(()=>{"hidden"===zn.document.visibilityState&&this._flushOutcomes()}))}eventFromException(t,e){return function(t,e,n,r){const o=gr(t,e,n&&n.syntheticException||void 0,r);return ee(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Q(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",r,o){const i=mr(t,e,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Q(i)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled())return void(ln&&A.warn("SDK not enabled, will not capture user feedback."));const e=function(t,{metadata:e,tunnel:n,dsn:r}){const o={event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!r&&{dsn:ot(r)}},i=function(t){return[{type:"user_report"},t]}(t);return jt(o,[i])}(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(e)}_prepareEvent(t,e,n){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n)}}function Ur(t,e,n,r){const o={filename:t,function:"<anonymous>"===e?St:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const $r=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,qr=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hr=/\((\S*)(?::(\d+))(?::(\d+))\)/,Br=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Gr=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Fr=kt(...[[30,t=>{const e=$r.exec(t);if(e){const[,t,n,r]=e;return Ur(t,St,+n,+r)}const n=qr.exec(t);if(n){if(n[2]&&0===n[2].indexOf("eval")){const t=Hr.exec(n[2]);t&&(n[2]=t[1],n[3]=t[2],n[4]=t[3])}const[t,e]=Vr(n[1]||St,n[2]);return Ur(e,t,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}}],[50,t=>{const e=Br.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=Gr.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||St;return[n,t]=Vr(n,t),Ur(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]]),Vr=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:St,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var zr=n(430),Zr=function(t,e){Object.keys(t).forEach((function(n){e(n,t[n])}))},Wr=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Yr=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Jr=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Kr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Xr={},Qr={},to=function(t,e,n,r,o){var i,a;void 0===r&&(r=[]),void 0===o&&(o=[]);var c=n.join("${}"),s=null===(a=null===(i=Xr.contexts)||void 0===i?void 0:i[t])||void 0===a?void 0:a[c];if(s){var u=s.key,l=s.value,f=Qr[u]||(Qr[u]=function(t){var e=[];return t.replace(/\$\{[^}]+}/g,(function(t){return e.push(t.substring(2,t.length-1).trim()),""})),e}(u)),d=e(l);if(d)return d.replace(/\$\{[^}]+}/g,(function(t){var e=f.indexOf(t.substring(2,t.length-1).trim());return void 0!==r[e]?r[e]:""}))}return e&&e(Kr([void 0],Jr(o),!1))||n.reduce((function(t,e,n){return t+e+(void 0!==r[n]?r[n]:"")}),"")},eo=function(t,e){Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:e})},no=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new eo(t,e)},ro=void 0,oo=function(){function t(t){Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:t})}return Object.defineProperty(t.prototype,"t",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return to(this.context,(function(t){return Jr(t,1)[0]}),t,e)}}),Object.defineProperty(t.prototype,"plural",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return to(this.context,(function(e){return ro?ro(t,e):e[1===Math.abs(t)?0:1]}),e.template,e.args,n)}}),t}(),io=function(t){return new oo(t)},ao={},co=/\splural ?=?([\s\S]*);?/,so=function(t,e){var n={};Zr(e.contexts||{},(function(t,e){var r={};Zr(e,(function(t,e){r[t.replace(/\$\{[^}]+}/g,"${}")]={key:t,value:e}})),n[t]=r})),Xr={headers:e.headers||{},contexts:n};var r,o=e.headers;ro=(0,zr.getPluralFunc)((null==o?void 0:o.language)||t)||(r=function(t){var e,n=(null==t?void 0:t["plural-forms"])||"nplurals=2; plural=(n != 1);",r=null===(e=co.exec(n))||void 0===e?void 0:e[1];return r&&";"===r[r.length-1]&&(r=r.slice(0,-1)),r||"plural=(n != 1)"}(o),ao[r]||(ao[r]=new Function("n","args",function(t){return"return args[+ (".concat(t,")];")}(r))))},uo=function(t){return Wr(void 0,void 0,void 0,(function(){var e,n;return Yr(this,(function(r){switch(r.label){case 0:switch(t){case"es_419":case"es_AR":case"es_CL":case"es_DO":case"es_MX":t="es_LA"}return e=so,n=[t],[4,fetch("/locales/"+t+".json")];case 1:return[4,r.sent().json()];case 2:return e.apply(void 0,n.concat([r.sent()])),[2]}}))}))},lo=function(){return navigator.language||navigator.userLanguage},fo=function(t,e){var n=null==e?void 0:e[t];if(!n)return[];try{var r=JSON.parse(n);return r instanceof Array?r:[]}catch(t){return[]}},po=function(t){return{be:"be_BY",ca:"ca_ES",cs:"cs_CZ",el:"el_GR",en:"en_US",hi:"hi_IN",ja:"ja_JP",ka:"ka_GE",ko:"ko_KR",nb:"nb_NO",nn:"nb_NO",no:"nb_NO",pt:"pt_BR",sl:"sl_SI",sv:"sv_SE",uk:"uk_UA",vi:"vi_VN"}[t]||t+"_"+t.toUpperCase()},vo=function(){var t=lo();if("string"!=typeof t||!t)return"en_US";var e=t.replace("-","_");return-1!==e.indexOf("_")?e:po(e)},ho=function(t,e){var n;t={UK:"GB"}[t=t.toUpperCase()]||t;var r=["".concat(e||lo())],o=new Intl.DisplayNames(r,{type:"region",style:"short"}).of(t);switch(null===(n=r[0])||void 0===n?void 0:n.split(/[_-]/)[0]){case"jp":case"zh":return o}var i=new Intl.DisplayNames(r,{type:"region"}).of(t);return o&&i&&o.length<6&&i.length<14?i:o},yo=function(t,e){return ho(t,e)||t},go=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},mo=function(t){return Object.keys(t)},bo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},wo=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},_o=[],xo=function(t){return _o.push(t),function(){_o.splice(_o.indexOf(t),1)}};chrome.runtime.onMessage.addListener((function(t){return _o.forEach((function(e){var n=t.type,r=n?e[n]:void 0;"function"!=typeof r?e.error&&t.error&&e.error(t.error):r(t.data)})),!1}));var So=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Eo=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Co=n.g||window;Co.browser||(Co.browser=chrome);var ko,Oo,To,Po,Ao,Lo=function(t,e){return void 0===e&&(e=void 0),new Promise((function(n,r){return So(void 0,void 0,void 0,(function(){var o,i,a,c;return Eo(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),o=function(t){var e;if(t){var o=null==t?void 0:t.result,i=null==o?void 0:o.error;if(!i||i.Warning){var a=null===(e=null===browser||void 0===browser?void 0:browser.runtime)||void 0===e?void 0:e.lastError;a?r(a.message?new Error(a.message):a):n(o)}else r(i)}},i=function(){try{var n=Date.now()+":"+Math.random(),r=browser.runtime.sendMessage(browser.runtime.id,{type:t,data:e,respondTo:"broadcast",requestId:n},void 0,o);return function(t,e){var n,r=void 0;r=xo(((n={})[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.apply(void 0,wo([],bo(t),!1)),null==r||r()},n))}("answer:"+n,o),r}catch(n){return browser.runtime.sendMessage(browser.runtime.id,{type:t,data:e,respondTo:"promise"})}}(),i instanceof Promise?(a=o,[4,i]):[3,2];case 1:a.apply(void 0,[s.sent()]),s.label=2;case 2:return[3,4];case 3:return c=s.sent(),r(c),[3,4];case 4:return[2]}}))}))}))},No=function(t,e){return void 0===e&&(e=void 0),Lo(t,e)};!function(t){t.SIGN_OUT="signOut",t.SWITCH_ACCOUNT="switchAccount",t.DISCONNECT="disconnect",t.CONNECT="connect",t.CONNECTING="connecting"}(ko||(ko={})),function(t){t.BYPASS_LIST="bypassList"}(Oo||(Oo={})),function(t){t.PROXY="proxy"}(To||(To={})),function(t){t.FORK="fork",t.FORGET_ERROR="forgetError",t.LOG="log"}(Po||(Po={})),function(t){t.USER="user",t.PM_USER="pmUser",t.STATE="state"}(Ao||(Ao={}));var Io=function(){return"undefined"==typeof window||-1!==window.location.href.indexOf("_generated_background_page.html")},jo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Mo=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Do=[],Ro=!1,Uo=x.item("logs");Uo.get().then((function(t){(null==t?void 0:t.value)&&(Do.push.apply(Do,Mo([],jo(t.value),!1)),Uo.setValue(Do),Ro=!0)})),n.g.getLogs=function(){return Do.slice()};var $o,qo,Ho,Bo,Go=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fo=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Vo=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];(void 0===n.g.debugEnabled||n.g.debugEnabled)&&(console[t].apply(console,e),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(Io())return Do.unshift(Mo([Date.now()],jo(t),!1)),Do.splice(100,1e3),void(Ro&&Uo.setValue(Do));vi(No(Po.LOG,Mo([],jo(t),!1)))}(Fo([t],Go(e),!1)))}},zo=(Vo("log"),Vo("warn")),Zo=Vo("error"),Wo=(Vo("info"),Vo("debug"),function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t});function Yo(t){var e,n,r=[(e={},e[Qo.MAIN_ACTION]="primary-button wide-button",e[Qo.SECONDARY_ACTION]="secondary-button wide-button",e)[t.Category]||"",(n={},n[Xo.UPGRADE]="upgrade-button",n)[t.Code]||""].filter(Boolean).join(" ");return'<a class="'.concat(r,'" href="').concat(t.URL.replace(/^\//,c),'">').concat(io("Action").t($o||($o=Wo(["Upgrade"],["Upgrade"]))),"</a>")}function Jo(t,e){void 0===e&&(e=!1);var n=t.Error||t.message||t;if(n instanceof Error)return n.message;if("string"==typeof n)return n;zo(n);var r="".concat(t).replace(/^TypeError:\s+/,"");if(/\[object/.test(r)){zo(n);var o=mo(n);return e&&0!==o.length&&"_id"!==o.join(",")?"<pre>"+go(JSON.stringify(n,null,2))+"</pre>":io("Error").t(qo||(qo=Wo(["Something went wrong. If the problem persists, please try to re-install the extension"],["Something went wrong. If the problem persists, please try to re-install the extension"])))}return r}function Ko(t){var e,n,r,o,i,a,c,s;if(sa(t)||ca(t)){var u=t,l=u.Code,f=function(t){return t&&"string"!=typeof t?t.map((function(t){if("Feature"===t.Component){var e={world:'<path fill-rule="evenodd" d="M20.9 13.345C20.251 17.677 16.514 21 12 21c-4.417 0-8.091-3.182-8.855-7.38a3.75 3.75 0 0 0 3.356.995l.54-.108a.75.75 0 0 1 .868.53l.906 3.17a2.225 2.225 0 0 0 4.3-.07l.222-.893a.75.75 0 0 1 .312-.442l1.436-.957a2.25 2.25 0 0 0 .764-.866l.088-.177a2.25 2.25 0 0 0-.421-2.597L14.47 11.16a2.25 2.25 0 0 0-1.591-.659h-1.34a.751.751 0 0 1-.279-.054l-1.934-.774A.349.349 0 0 1 9.456 9h1.55a1.783 1.783 0 0 0 1.26-3.044L11.312 5l1.808-.3a2.25 2.25 0 0 0 1.665-1.26 9.001 9.001 0 0 1 3.64 2.26l-1.097.548A2.25 2.25 0 0 0 16.2 8.971l.813 2.44a2.25 2.25 0 0 0 1.693 1.495l2.194.439Zm-1.494-6.46A8.956 8.956 0 0 1 21 11.835l-1.998-.4a.75.75 0 0 1-.565-.498l-.813-2.44A.75.75 0 0 1 18 7.589l1.407-.704ZM12 3c.407 0 .807.027 1.2.08a.748.748 0 0 1-.327.14l-1.809.3c-1.203.201-1.677 1.678-.814 2.54l.956.957a.283.283 0 0 1-.2.483h-1.55a1.849 1.849 0 0 0-.687 3.565l1.934.774c.266.106.55.161.836.161h1.34a.75.75 0 0 1 .53.22l1.046 1.046a.75.75 0 0 1 .14.866l-.088.176a.75.75 0 0 1-.255.289l-1.436.957a2.25 2.25 0 0 0-.934 1.327l-.223.891a.726.726 0 0 1-1.402.024l-.906-3.172a2.25 2.25 0 0 0-2.605-1.588l-.54.108a2.25 2.25 0 0 1-2.24-.857l-.918-1.223A9.001 9.001 0 0 1 12 3Zm0 19.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5Z" clip-rule="evenodd"/>',incognito:'<path fill-rule="evenodd" d="M14.517 3.247a3 3 0 0 1 4.1 2.031l1.485 5.977h1.648a.75.75 0 1 1 0 1.5H2.25a.75.75 0 0 1 0-1.5h1.649l1.484-5.977a3 3 0 0 1 4.1-2.031l1.626.701a2.25 2.25 0 0 0 1.782 0l1.626-.701Zm2.645 2.393a1.5 1.5 0 0 0-2.05-1.016l-1.627.702a3.75 3.75 0 0 1-2.97 0l-1.626-.702a1.5 1.5 0 0 0-2.05 1.016l-1.38 5.555h13.082l-1.38-5.555Zm-7.305 9.515a3.75 3.75 0 1 0 .643 2.1 1.5 1.5 0 1 1 3 0 3.75 3.75 0 1 0 .643-2.1 2.991 2.991 0 0 0-2.143-.9 2.99 2.99 0 0 0-2.143.9ZM9 17.255a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm6 0a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0Z" clip-rule="evenodd"/>',play:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 6.00421C7.5 4.75768 8.93047 4.05335 9.91848 4.81335L17.7136 10.8095C18.4955 11.411 18.4955 12.5898 17.7136 13.1913L9.91848 19.1875C8.93047 19.9475 7.5 19.2431 7.5 17.9966L7.5 6.00421ZM9.00002 6.00275C9.00001 6.0032 9 6.00369 9 6.00421L9 17.9966C9 17.9971 9.00001 17.9976 9.00002 17.9981C9.00042 17.9983 9.00086 17.9985 9.00136 17.9988C9.00185 17.999 9.00232 17.9992 9.00274 17.9994C9.00311 17.9991 9.0035 17.9988 9.00392 17.9985L16.7991 12.0023C16.7994 12.0021 16.7997 12.0018 16.7999 12.0016C16.8 12.0013 16.8 12.0009 16.8 12.0004C16.8 11.9999 16.8 11.9995 16.7999 11.9992C16.7997 11.999 16.7994 11.9987 16.7991 11.9985L9.00392 6.00229C9.0035 6.00197 9.00311 6.00168 9.00274 6.00141C9.00232 6.00159 9.00185 6.00179 9.00136 6.00204C9.00086 6.00228 9.00042 6.00252 9.00002 6.00275Z" />'}[t.Icon]||"";return'<div class="feature-row">\n\t\t\t\t\t<div style="width: 40px; flex: 0;">'.concat(e?'<svg class="feature-icon" viewBox="0 0 24 24">'.concat(e,"</svg>"):"",'</div>\n\t\t\t\t\t<div style="flex: 1;">').concat(t.Text,"</div>\n\t\t\t\t</div>")}return"<div>".concat(t.Text,"</div>")})).join(""):t}(null===(e=u.Details)||void 0===e?void 0:e.Body),d=f||(86151===l?io("Action").t(Ho||(Ho=Wo(["Subscribe to enable Browser Extension"],["Subscribe to enable Browser Extension"]))):io("Action").t(Bo||(Bo=Wo(["Subscribe to connect more devices"],["Subscribe to connect more devices"])))),p=(null===(n=u.Details)||void 0===n?void 0:n.Title)||(null===(r=u.Details)||void 0===r?void 0:r.Hint)||f?"":'<div class="error-message" style="max-width: 348px;">'.concat(Jo(t,!0),"</div>"),v=function(t){switch(t){case 86110:case 86111:case 86112:case 86113:case 86114:case 86115:case 86300:return"/img/illustration-maximum-device-limit@2x.png";case 86151:return"/img/illustration-free-user-upsell@2x.png";default:return}}(l);return{restartOnClose:86300===l,blockingError:"\n\t\t\t\t".concat(p,'\n\t\t\t\t<div class="text-center" style="padding: 20px; line-height: 1.4em;">\n\t\t\t\t\t').concat(l?'<img src="'.concat(v,'" alt="" style="max-width: 248px;" />'):"","\n\t\t\t\t\t").concat((null===(o=u.Details)||void 0===o?void 0:o.Title)?'<p style="padding-bottom: 10px; margin: 0 20px; font-weight: bold; font-size: 16px; line-height: 26px;">'.concat(null===(i=u.Details)||void 0===i?void 0:i.Title,"</p>"):"",'\n\t\t\t\t\t<p style="padding-bottom: 10px; font-size: 12px; line-height: 18px;">').concat(d,"</p>\n\t\t\t\t\t").concat((null===(a=u.Details)||void 0===a?void 0:a.Hint)?'<p style="padding-bottom: 10px; opacity: 0.8; font-size: 10px; line-height: 16px;">'.concat(null===(c=u.Details)||void 0===c?void 0:c.Hint,"</p>"):"","\n\t\t\t\t\t").concat(((null===(s=u.Details)||void 0===s?void 0:s.Actions)||[]).map(Yo).join(""),"\n\t\t\t\t</div>\n\t\t\t")}}return{error:'<div class="error-message">\n\t\t\t<div class="icon">\n\t\t\t\t<svg viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M22.349 22.5H1.65c-1.266 0-2.06-1.341-1.431-2.42l10.35-17.765c.632-1.087 2.23-1.087 2.862 0l10.35 17.765c.627 1.079-.166 2.42-1.432 2.42ZM12 7.135c.934 0 1.656.803 1.54 1.712l-.722 5.667a.819.819 0 0 1-.818.708.82.82 0 0 1-.818-.708l-.722-5.667c-.116-.909.606-1.712 1.54-1.712Zm1.154 10.513c0 .625-.517 1.132-1.154 1.132a1.143 1.143 0 0 1-1.154-1.133c0-.625.517-1.132 1.154-1.132.637 0 1.154.507 1.154 1.133Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class="text">'.concat(Jo(t,!0),'</div>\n\t\t\t<button class="close-button">\n\t\t\t\t<svg viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>')}}var Xo,Qo,ti={fromSeconds:function(t,e){return(e||0)+1e3*t},fromMinutes:function(t,e){return t*this.fromSeconds(60,e)},fromHours:function(t,e){return t*this.fromMinutes(60,e)},fromDays:function(t,e){return t*this.fromHours(24,e)},toSeconds:function(t){return t/1e3},toMinutes:function(t){return this.toSeconds(t)/60},toHours:function(t){return this.toMinutes(t)/60},toDays:function(t){return this.toHours(t)/24},diffInMilliSeconds:function(t,e){return(e||Date.now())-(t||0)},diffInSeconds:function(t){return this.toSeconds(this.diffInMilliSeconds(t))},diffInMinutes:function(t){return this.toMinutes(this.diffInMilliSeconds(t))},diffInHours:function(t){return this.toHours(this.diffInMilliSeconds(t))},diffInDays:function(t){return this.toDays(this.diffInMilliSeconds(t))}},ei=function(){return ei=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ei.apply(this,arguments)},ni=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ri=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},oi=x.item("crash-reports-disabled"),ii={key:"crash-reports-enabled",get:function(t){return void 0===t&&(t=void 0),ni(this,void 0,void 0,(function(){var e,n;return ri(this,(function(r){switch(r.label){case 0:return[4,oi.get(t?{value:!t.value}:void 0)];case 1:return e=r.sent(),[2,"boolean"==typeof(n=null==e?void 0:e.value)?ei(ei({},e||{}),{value:!n}):void 0]}}))}))},getDefined:function(t){return ii.get(t)},load:function(t){return void 0===t&&(t=void 0),ni(this,void 0,void 0,(function(){var e;return ri(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,oi.load(t)];case 1:return[2,"boolean"==typeof(e=n.sent().value)?{value:!e}:{}];case 2:return n.sent(),[2,{}];case 3:return[2]}}))}))},set:function(t){return oi.set({value:!t.value})},setValue:function(t,e){return void 0===e&&(e={}),oi.setValue(!t,e)},remove:function(){return oi.remove()}},ai=function(){return ni(void 0,void 0,void 0,(function(){var t;return ri(this,(function(e){switch(e.label){case 0:return[4,oi.getDefined({value:!1})];case 1:return(t=e.sent()).value=!t.value,[2,t]}}))}))},ci=function(t){var e=t.toString();return e.includes("/envelope/")?{"content-type":"application/x-sentry-envelope"}:e.includes("/store/")?{"content-type":"application/json"}:{}},si=function(t,e){return globalThis.fetch(t,ei(ei({},e),{headers:ei(ei(ei({},null==e?void 0:e.headers),ci(t)),{"x-pm-uid":""})}))},ui=function(t){return function(t,e=R("fetch")){let n=0,r=0;return zt(t,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return U("fetch"),tt("No fetch implementation available");try{return e(t.url,a).then((t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}})))}catch(t){return U("fetch"),n-=i,r--,tt(t)}}))}(t,si)},li={},fi=function(t){if(t){switch("Code"in t?t.Code:void 0){case 86110:case 86111:case 86112:case 86113:case 86114:case 86115:case 86300:return}var e=Jo(t);if(!/Url already open/.test(e)){var n=Date.now();n-((null==li?void 0:li[e])||0)<ti.fromMinutes(5)||(li[e]=n,pi().captureException(function(t,e){if(t instanceof Error)return t;var n=new Error(e);return n.previous=t,n}(t,e)))}}},di=void 0,pi=function(){if(di)return di;var t=[],e=Pr({}).filter((function(t){return!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(t.name)})),n=new Rr({dsn:f,release:i,environment:/\.proton.me$/.test(l)?"prod":"test",normalizeDepth:5,transport:ui,stackParser:Fr,autoSessionTracking:!1,integrations:e,sendClientReports:!1,beforeSend:function(e){return ni(this,void 0,void 0,(function(){var n,r;return ri(this,(function(o){switch(o.label){case 0:return[4,ni(void 0,void 0,void 0,(function(){return ri(this,(function(t){switch(t.label){case 0:return[4,ai()];case 1:return[2,t.sent().value]}}))}))];case 1:return o.sent()?(n=Date.now(),r=n-6e5,(t=t.filter((function(t){return t>=r}))).length>5?[2,null]:(t.push(n),[2,e])):[2,null]}}))}))}});return(di=new we).setClient(n),n.init(),di},vi=function(t){"function"==typeof(null==t?void 0:t.then)&&t.then((function(){}),fi)},hi=function(t){"function"==typeof(null==t?void 0:t.catch)&&t.catch((function(){}))},yi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},gi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},mi=x.item("session",w),bi=x.item("session"),wi=function(){return yi(void 0,void 0,void 0,(function(){var t,e;return gi(this,(function(n){switch(n.label){case 0:return[4,mi.load()];case 1:return(t=n.sent())&&mo(t).length?[2,t]:[4,bi.load()];case 2:return(e=n.sent())&&vi(mi.set(e)),[2,e]}}))}))},_i=x.selfItem("credentials",w),xi=function(){return _i.remove()},Si=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ei=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ci=function(t){return Si(void 0,void 0,void 0,(function(){var e,n,r;return Ei(this,(function(o){switch(o.label){case 0:return[4,wi()];case 1:return e=null===(r=o.sent())||void 0===r?void 0:r.uid,n=(null==t?void 0:t.uid)||e,vi(t.persistent?bi.set(t):bi.remove()),[4,mi.set(t)];case 2:return o.sent(),n===e?[3,4]:[4,xi()];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))},ki=function(t,e){void 0===e&&(e=!0),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"logout",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.message||(this.message="Missing refresh token")},Oi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ti=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Pi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ai=!1,Li=[],Ni=function(t,e){void 0===e&&(e=void 0),Lo(t,e).catch((function(t){-1==="".concat((null==t?void 0:t.message)||t).indexOf("Receiving end does not exist.")&&Zo(t)}))},Ii=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ji=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Mi=void 0,Di=x.item("upgrade-error",t.LOCAL,"error"),Ri=function(t){Mi={version:i,time:Date.now(),error:t},hi(t?Di.set(Mi):Di.remove())},Ui=function(){return Ii(void 0,void 0,void 0,(function(){return ji(this,(function(t){switch(t.label){case 0:return Mi?[3,2]:[4,Di.get()];case 1:(Mi=t.sent())||Ri(void 0),t.label=2;case 2:return Mi?Mi.version!==i||Date.now()-Mi.time>ti.fromHours(2)?(Ri(void 0),[2,void 0]):[2,Mi.error]:[2,void 0]}}))}))},$i=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},qi=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Hi=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return e&&(t+=Math.round(e*(2*Math.random()-1))),setTimeout.apply(void 0,qi([n,t],$i(r),!1))},Bi=function(t,e){return void 0===e&&(e=0),new Promise((function(n){Hi(t,e,n)}))},Gi=function(t,e,n,r){return void 0===r&&(r=Error),new Promise((function(o,i){var a=!1,c=setTimeout((function(){a=!0,i(new r(n||"Timeout"))}),e);t.then((function(t){a||(o(t),clearTimeout(c))})).catch(i)}))},Fi=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Vi=function(){return Vi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vi.apply(this,arguments)},zi=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Zi=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Wi=function(t,e,n){return void 0===n&&(n={}),{method:t,headers:Vi({Accept:"application/json","Content-Type":"application/json"},n),body:JSON.stringify(e)}},Yi=function(){return"browser-vpn@"+i},Ji={},Ki=function(t,e,n,r,o){return zi(void 0,void 0,void 0,(function(){var i,a,c,s,l,f,d,p,v,h,y,g;return Zi(this,(function(m){switch(m.label){case 0:if(i="".concat((null==e?void 0:e.method)||"GET"," ").concat(t),a=Ji[i]){if(a.time>=Date.now())return[2,a.response.clone()];delete Ji[i]}return(c=(null==e?void 0:e.headers)||{})["x-pm-uid"]?[3,5]:(l=r)?[3,2]:[4,wi()];case 1:l=m.sent(),m.label=2;case 2:return(s=l).expiresAt?[3,3]:(f=null==s?void 0:s.uid,d=null==s?void 0:s.accessToken,f&&d&&Object.assign(c,function(t,e){return{"x-pm-uid":t,Authorization:"Bearer ".concat(e)}}(f,d)),[3,5]);case 3:return!r&&(o||0)<Date.now()?[4,Bi(200)]:[3,5];case 4:return m.sent(),[2,Ki(t,e,n,r,o||ti.fromSeconds(8,Date.now()))];case 5:return p=Vi(Vi({mode:"cors",credentials:"include",redirect:"follow",method:"GET"},e),{headers:Vi({"x-pm-appversion":Yi()},c)}),[4,fetch("".concat(n||u).concat(t),p)];case 6:return v=m.sent(),ua(v)&&(h="".concat(v.headers.get("Retry-After")||"0"),y=Math.min(Date.now()+ti.fromMinutes(30),/^\d+$/.test(h)?Date.now()+ti.fromSeconds(Math.max(10,Number(h))):new Date(h).getTime()),((null===(g=Ji[i])||void 0===g?void 0:g.time)||0)<y&&(Ji[i]={time:y,response:v.clone()})),[2,v]}}))}))},Xi=function(t){return zi(void 0,void 0,void 0,(function(){var e;return Zi(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,t.json()];case 1:return[2,n.sent()];case 2:throw e=n.sent(),zo(t.status,e),new Error(io("Error").t(na||(na=Fi(["Service temporarily unavailable"],["Service temporarily unavailable"]))));case 3:return[2]}}))}))},Qi=function(t,e){return zi(void 0,void 0,void 0,(function(){var n;return Zi(this,(function(r){switch(r.label){case 0:return[4,Xi(t)];case 1:return n=r.sent(),[2,e?e(t,n):n]}}))}))},ta=function(t){return zi(void 0,void 0,void 0,(function(){return Zi(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,t.clone().json()];case 1:case 3:return[2,e.sent()];case 2:return e.sent(),[4,t.text()];case 4:return[2]}}))}))},ea=function(t,e,n,r){return zi(void 0,void 0,void 0,(function(){var o,i,a,c,s,u,l,f,d;return Zi(this,(function(p){switch(p.label){case 0:return[4,Ui()];case 1:if(o=p.sent())throw Ni("updateExtension",{error:o}),o;return[4,Ki(t,e,n)];case 2:return i=p.sent(),ra(i)?[3,9]:[4,ta(i)];case 3:if(a=p.sent(),(c=(null==a?void 0:a.Error)?a:new Error(a)).response=i,c&&"object"==typeof c&&(c.httpStatus=i.status),sa(a))throw Ni("updateExtension",{error:c}),Ri(a),c;return Ri(void 0),/\/?auth(\/.*)$/.test(t)||!aa(c)?[3,8]:[4,wi()];case 4:return s=p.sent(),u=s.uid,l=s.accessToken,[4,(v=s,Oi(void 0,void 0,void 0,(function(){var t,e,n;return Ti(this,(function(r){switch(r.label){case 0:return v?[3,2]:[4,wi()];case 1:v=r.sent(),r.label=2;case 2:if(!v.uid||!v.refreshToken)throw new ki;return Ai?[4,new Promise((function(t,e){Li.push([t,e])}))]:[3,4];case 3:return[2,r.sent()];case 4:return r.trys.push([4,8,12,13]),Ai=!0,v.expiresAt=Date.now(),[4,Ci(v)];case 5:return r.sent(),[4,ea("auth/refresh",Wi("POST",{UID:v.uid,ResponseType:"token",GrantType:"refresh_token",RefreshToken:v.refreshToken,RedirectURI:v.redirectURI||"https://protonvpn.com"},{"x-pm-uid":v.uid}))];case 6:return t=r.sent(),delete v.expiresAt,v.refreshToken=t.RefreshToken,v.accessToken=t.AccessToken,[4,Ci(v)];case 7:return r.sent(),Li.forEach((function(t){(0,Pi(t,1)[0])(v)})),Li=[],[2,v];case 8:return e=r.sent(),[4,wi()];case 9:return(n=r.sent()).expiresAt&&n.accessToken===v.accessToken?(delete n.expiresAt,[4,Ci(n)]):[3,11];case 10:r.sent(),r.label=11;case 11:if(10013===e.Code){zo(e,(new Error).stack),e=new ki(Jo(e));try{vi(No(ko.SIGN_OUT))}catch(t){}Li.forEach((function(t){(0,Pi(t,2)[1])(e)})),Li=[]}throw e;case 12:return Ai=!1,[7];case 13:return[2]}}))})))];case 5:return!(f=p.sent()).uid||!f.accessToken||f.uid===u&&f.accessToken===l?[3,7]:[4,Ki(t,e,n,f)];case 6:if(d=p.sent(),ra(d))return[2,Qi(d,r)];p.label=7;case 7:zo(c),p.label=8;case 8:throw c;case 9:return Ri(void 0),[2,Qi(i,r)]}var v}))}))};!function(t){t.UPGRADE="Upgrade"}(Xo||(Xo={})),function(t){t.MAIN_ACTION="main_action",t.SECONDARY_ACTION="secondary_action",t.LINK="link"}(Qo||(Qo={}));var na,ra=function(t){return t.status>=200&&t.status<300},oa=function(t,e){return"object"==typeof t&&(null==t?void 0:t.httpStatus)===e},ia=function(t){return oa(t,401)},aa=function(t){return ia(t)&&401===t.Code},ca=function(t){var e;return"DeviceLimit"===(null===(e=null==t?void 0:t.Details)||void 0===e?void 0:e.Type)},sa=function(t){return"object"==typeof t&&5003===(null==t?void 0:t.Code)},ua=function(t){return"object"==typeof t&&(429===(null==t?void 0:t.Code)||503===(null==t?void 0:t.Code))},la=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},fa=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},da=function(t,e){return"string"==typeof t&&"string"==typeof e?t.localeCompare(e):t>e?1:t<e?-1:0},pa=function(){function t(t){Object.defineProperty(this,"transformer",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"sortingCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(t.prototype,"getField",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.transformer?this.transformer.apply(this,fa([t],la(e),!1)):t}}),Object.defineProperty(t.prototype,"sort",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.sortingCallbacks.length&&t.sort((function(t,r){var o=e.getField.apply(e,fa([t],la(n),!1)),i=e.getField.apply(e,fa([r],la(n),!1)),a=0;return e.sortingCallbacks.some((function(t){return a=t(o,i)})),a}))}}),Object.defineProperty(t.prototype,"asc",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.sortingCallbacks.push((function(e,n){return da(null==e?void 0:e[t],null==n?void 0:n[t])})),this}}),Object.defineProperty(t.prototype,"desc",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.sortingCallbacks.push((function(e,n){return da(null==n?void 0:n[t],null==e?void 0:e[t])})),this}}),t}(),va=x.selfItem("user",w),ha=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ya=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ga=function(){return ha(void 0,void 0,void 0,(function(){var t;return ya(this,(function(e){switch(e.label){case 0:return[4,va.load()];case 1:return function(t){var e;return"object"==typeof(null===(e=null==t?void 0:t.User)||void 0===e?void 0:e.VPN)}(null==(t=e.sent())?void 0:t.user)&&(t.user=t.user.User),[2,t]}}))}))},ma=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ba=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},wa=function(e){return ma(void 0,void 0,void 0,(function(){var n;return ba(this,(function(r){switch(r.label){case 0:return[4,x.getItem("backoff-"+e,void 0,t.LOCAL)];case 1:return(n=r.sent())?Date.now()>n.forget?(function(e){vi(x.removeItem("backoff-"+e,t.LOCAL))}(e),[2,!1]):[2,Date.now()<=n.expiration]:[2,!1]}}))}))},_a=function(e,n){void 0===n&&(n=5e3),vi(ma(void 0,void 0,void 0,(function(){var r,o,i,a;return ba(this,(function(c){switch(c.label){case 0:return[4,x.getItem("backoff-"+e,void 0,t.LOCAL)];case 1:return r=c.sent(),o=((null==r?void 0:r.increment)||0)+1,i=Date.now()+1e3*Math.min(300,Math.pow(n/1e3,(1+o)/2)),a=Date.now()+2e4+1e3*Math.max(15,Math.min(600,Math.pow(n/1e3,(2+o)/2))),[4,x.setItem("backoff-"+e,{increment:o,expiration:i,forget:a},t.LOCAL)];case 2:return c.sent(),[2]}}))})))},xa=(x.item("connectedServer",t.SESSION),function(t){var e;return(null===(e=null==t?void 0:t.VPN)||void 0===e?void 0:e.MaxTier)||0}),Sa=function(){var t,e=!1;n.g.browser||(n.g.browser=chrome);var r=((t={})[Ao.USER]=function(t){var n=t.user;e=function(t){return xa(t)>0}(n)},t);return browser.runtime.onMessage.addListener((function(t){var e,n=null==t?void 0:t.event;return null===(e=r[n])||void 0===e||e.call(r,t),!1})),function(){return!e}}(),Ea=function(){return Sa()?ti.fromDays(1):ti.fromHours(6)},Ca=function(){return ti.fromDays(10)},ka=function(){return Sa()?ti.fromDays(7):ti.fromDays(3)},Oa=function(){return Oa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Oa.apply(this,arguments)},Ta=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Pa=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Aa=x.item("location",t.LOCAL),La=x.item("location-fetching",t.LOCAL);vi(Aa.remove());var Na,Ia=function(){return Aa.load()},ja=function(){return Ta(void 0,void 0,void 0,(function(){var t,e,n,r,o,i,a,c;return Pa(this,(function(s){switch(s.label){case 0:return[4,Ia()];case 1:return t=s.sent(),e=Sa()?ti.fromMinutes(30):ti.fromMinutes(10),(n=ti.diffInMilliSeconds(null==t?void 0:t.time)<e)?[3,3]:[4,wa("location")];case 2:n=s.sent(),s.label=3;case 3:if(n)return[2,null==t?void 0:t.location];s.label=4;case 4:return r=Date.now(),[4,La.get()];case 5:return r-((null===(c=s.sent())||void 0===c?void 0:c.time)||0)<ti.fromSeconds(2)?[4,Bi(200)]:[3,8];case 6:return s.sent(),[4,Ia()];case 7:return o=s.sent(),ti.diffInMilliSeconds(null==o?void 0:o.time)<e?[2,null==o?void 0:o.location]:[3,4];case 8:return[4,Ta(void 0,void 0,void 0,(function(){return Pa(this,(function(t){switch(t.label){case 0:return[2,!0];case 1:return[2,t.sent()]}}))}))];case 9:if(!s.sent())return[2,null==t?void 0:t.location];s.label=10;case 10:return s.trys.push([10,15,16,17]),[4,La.setValue(null)];case 11:return s.sent(),[4,ea("vpn/v1/location")];case 12:return(i=s.sent())?[4,Aa.set({time:Date.now(),location:i})]:[3,14];case 13:s.sent(),s.label=14;case 14:return[2,i];case 15:if(a=s.sent(),_a("location"),a instanceof ki)throw a;return[2,null==t?void 0:t.location];case 16:return vi(La.remove()),[7];case 17:return[2]}}))}))},Ma=function(t,e,n){return Ta(void 0,void 0,void 0,(function(){var r,o;return Pa(this,(function(i){switch(i.label){case 0:return[4,ja()];case 1:return r=i.sent(),(o=null==r?void 0:r.IP)&&(e||(e={}),e.headers=Oa(Oa({},e.headers),{"x-pm-netzone":o.replace(/\.\d+$/,".0"),"x-pm-country":null==r?void 0:r.Country})),[4,ea(t,e,void 0,n)];case 2:return[2,i.sent()]}}))}))},Da=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ra=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ua=function(t,e,n){return Da(void 0,void 0,void 0,(function(){var r,o,i,a,c,s;return Ra(this,(function(u){switch(u.label){case 0:return[4,ga()];case 1:if(r=(null===(s=null===(c=u.sent())||void 0===c?void 0:c.user)||void 0===s?void 0:s.VPN)||{},o=r.MaxTier,i=r.Groups,e||(e={}),"number"!=typeof o)throw new Error("Cannot fetch ".concat(t," while not authenticated"));return Object.assign(e.headers||(e.headers={}),{"x-pm-max-tier":"".concat(o)}),i&&(a=i.length,Object.assign(e.headers||(e.headers={}),1===a?{"x-pm-single-group":i.join(",")}:{"x-pm-group-count":a})),[4,Ma(t,e,n)];case 2:return[2,u.sent()]}}))}))},$a=function(t){return function(t){return t&&"object"==typeof t&&"number"==typeof(null==t?void 0:t.time)}(t)?Date.now()-t.time:1/0},qa=function(){return qa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},qa.apply(this,arguments)},Ha=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ba=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ga={},Fa=function(e,n){return Ha(void 0,void 0,void 0,(function(){var r,o,i;return Ba(this,(function(a){switch(a.label){case 0:return[4,ea("vpn/v1/cities/names")];case 1:return r=a.sent(),(o=r.Cities)?(i={time:Date.now(),value:o},Ga[n]=i,vi(x.setItem("city-names-"+e,i,t.LOCAL)),[2,o]):[2,{}]}}))}))},Va=void 0,za=0,Za=function(t,e){var n=0===Object.keys(e).length,r=0;if(t.forEach((function(t){var o;n||(null===(o=t.Translations)||void 0===o?void 0:o.City)||!t.City||((e[t.ExitCountry]||{}).hasOwnProperty(t.City)?t.Translations=qa({City:e[t.ExitCountry][t.City]},t.Translations):3!==t.Tier&&r++)})),r>0){var o=Date.now();o-za>ti.fromHours(1)&&(za=o,Ya(Va,!0).then((function(e){Za(t,e)})))}},Wa=function(e,n){return Ha(void 0,void 0,void 0,(function(){var r;return Ba(this,(function(o){switch(o.label){case 0:return Ga[e]?[2,Ga[e]]:[4,x.getItem("city-names-"+n,void 0,t.LOCAL)];case 1:return(r=o.sent())&&(Ga[e]=r),[2,r]}}))}))},Ya=function(t,e){return void 0===e&&(e=!1),Ha(void 0,void 0,void 0,(function(){var n,r,o,i;return Ba(this,(function(a){switch(a.label){case 0:return Va=t,n=navigator.languages||[lo()],/^en(-.*)$/.test("".concat(n[0]||""))?[2,{}]:(r=n.join("/"),o=(t||"")+":"+r,e?[3,2]:[4,Wa(o,r)]);case 1:if(i=a.sent(),$a(i)<ti.fromDays(20))return[2,(null==i?void 0:i.value)||{}];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Fa(r,o)];case 3:return[2,a.sent()];case 4:return a.sent(),[2,{}];case 5:return[2]}}))}))};!function(t){t[t.SECURE_CORE=1]="SECURE_CORE",t[t.TOR=2]="TOR",t[t.P2P=4]="P2P",t[t.STREAMING=8]="STREAMING",t[t.IPV6=16]="IPV6",t[t.RESTRICTED=32]="RESTRICTED",t[t.PARTNER=64]="PARTNER"}(Na||(Na={}));var Ja,Ka=function(t){return!(!(t&&t.Status>0)||3&(t.ServicesDown||0))},Xa=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Qa=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},tc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ec=x.item("logicals-servers",t.LOCAL),nc={},rc=function(t){return Xa(void 0,void 0,void 0,(function(){var e,n,r,o,i,a;return Qa(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=null==t?void 0:t.lastModified,[4,Ua("vpn/v1/logicals",{headers:{"If-Modified-Since":e||"Thu, 01 Jan 1970 00:00:00 GMT"}},(function(t,e){return{logicals:null==e?void 0:e.LogicalServers,lastModified:t.headers.get("Last-Modified")}}))];case 1:return n=c.sent(),r=n.logicals,o=n.lastModified,r.forEach(cc),vi(ec.setValue(r,{lastModified:o})),vi(Ya()),[2,r];case 2:if(i=c.sent(),null==t?void 0:t.value)return function(t){return 304===(null==t?void 0:t.status)||oa(t,304)}(a=null==i?void 0:i.response)&&vi(ec.setValue(t.value,{lastModified:a.headers.get("Last-Modified")})),[2,t.value];throw i;case 3:return[2]}}))}))},oc=function(){return Xa(void 0,void 0,void 0,(function(){var t,e;return Qa(this,(function(n){switch(n.label){case 0:return[4,ec.get()];case 1:return t=n.sent(),e=$a(t),t&&e<Ea()?[2,t.value]:t&&e<8*Ea()?(vi(rc(t)),[2,t.value]):[4,rc(t)];case 2:return[2,n.sent()]}}))}))},ic=function(){return Xa(void 0,void 0,void 0,(function(){var t;return Qa(this,(function(e){switch(e.label){case 0:return[4,oc()];case 1:return function(t){t.sort((function(t,e){if(t.SearchScore!==e.SearchScore)return da(e.SearchScore,t.SearchScore);if(t.ExitCountry!==e.ExitCountry)return da(t.ExitCountry,e.ExitCountry);var n=tc(t.Name.split("#",2),2),r=n[0],o=n[1],i=tc(e.Name.split("#",2),2),a=i[0],c=i[1];return r===a?/^\d+$/.test(o||"0")&&/^\d+$/.test(c||"0")?da(parseInt(o||"0",10),parseInt(c||"0",10)):da(o,c):da(r,a)}))}(t=e.sent().filter((function(t){return t.Tier<=(n.g.logicalMaxTier||2)&&(p||!(t.Features&(Na.TOR|Na.RESTRICTED)))}))),t.forEach((function(t){nc[t.ID]=t})),[2,t]}}))}))},ac=function(t){return nc[t]},cc=function(t){t._up=t.Status>0&&(t.Servers||[]).some(Ka)},sc=function(t){return void 0===t._up&&cc(t),t._up},uc=function(t){return No(t)},lc=function(){return/^moz-extension:/.test(location.href)?{name:"Firefox",type:"firefox",pluginsUrl:"https://addons.mozilla.org/firefox/addon/proton-vpn-firefox-extension"}:{name:"Chrome",type:"chromium",pluginsUrl:"chrome://extensions/"}},fc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},dc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},pc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vc=!1,hc=[],yc=x.item("servers-count",t.LOCAL),gc=function(){return fc(void 0,void 0,void 0,(function(){var t,e;return dc(this,(function(n){switch(n.label){case 0:if(vc)return[2,new Promise((function(t,e){hc.push([t,e])}))];vc=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,ea("vpn/servers-count")];case 2:return t=n.sent(),vi(yc.setValue(t)),hc.forEach((function(e){(0,pc(e,1)[0])(t)})),[2,t];case 3:throw e=n.sent(),hc.forEach((function(t){(0,pc(t,2)[1])(e)})),e;case 4:return hc=[],vc=!1,[7];case 5:return[2]}}))}))},mc=function(){return fc(void 0,void 0,void 0,(function(){var t,e,n;return dc(this,(function(r){switch(r.label){case 0:return[4,yc.get()];case 1:if(t=r.sent(),e=$a(t),t&&e<Ca())return[2,t.value];if(t&&e<2*Ca())return vi(gc()),[2,t.value];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,gc()];case 3:return[2,r.sent()];case 4:if(n=r.sent(),null==t?void 0:t.value)return[2,t.value];throw n;case 5:return[2]}}))}))},bc=function(t,e){void 0===e&&(e=!0);var n,r=(n=t,btoa(n).trim()).replace(/\+/g,"-").replace(/\//g,"_");return e?r.replace(/=/g,""):r},wc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},_c=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},xc={signup:"2"},Sc=function(e){var n=e.host,r=e.action,o=e.partnerId,i=e.independent;return wc(void 0,void 0,void 0,(function(){var e,a,c;return _c(this,(function(s){switch(s.label){case 0:return e=bc(function(t){for(var e=[],n=16384,r=t.length,o=0;o<r;o+=n)e.push(String.fromCharCode.apply(String,t.subarray(o,o+n<r?o+n:r)));return e.join("")}(crypto.getRandomValues(new Uint8Array(32)))),a={partnerId:o,independent:i},[4,x.setItem("f".concat(e),a,t.LOCAL)];case 1:return s.sent(),c={app:"proton-vpn-browser-extension",appVersion:Yi(),state:e,t:r&&xc[r]||"1",plan:"vpn2024"},o&&(c.partnerId=o),i&&(c.independent="1"),[2,"".concat(n,"/authorize?").concat(new URLSearchParams(c).toString())]}}))}))},Ec=function(){return Ec=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ec.apply(this,arguments)},Cc={vivaldi:{id:"4",welcomePage:"https://vivaldi.com/protonvpn/welcome/"}},kc=(Ja=void 0,function(){return kc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},kc.apply(this,arguments)}),Oc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Tc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Pc=n.g||window;Pc.browser||(Pc.browser=chrome);var Ac=x.item("tabs",t.LOCAL),Lc=function(t){var e,n;!function(t){vi(Oc(void 0,void 0,void 0,(function(){var e,n,r,o;return Tc(this,(function(i){switch(i.label){case 0:return n=(e=Ac).set,r=[{}],[4,Ac.load({})];case 1:return[4,n.apply(e,[kc.apply(void 0,[kc.apply(void 0,r.concat([i.sent()])),(o={},o[t]=!0,o)])])];case 2:return[2,i.sent()]}}))})))}(t),vi(null===(n=(e=browser.tabs).executeScript)||void 0===n?void 0:n.call(e,t,{code:"\n\t\t\tchrome.runtime.connect();\n\t\t\twindow.addEventListener('message', (event) => {\n\t\t\t\tif (event.source != window) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tchrome.runtime.sendMessage({...event.data, tabId: ".concat(JSON.stringify(t),"});\n\t\t\t}, false);\n\t\t")}))},Nc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ic=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},jc={},Mc=function(t,e){return Nc(void 0,void 0,void 0,(function(){var n,r;return Ic(this,(function(o){switch(o.label){case 0:if(n="string"==typeof t?{url:t}:t,r=e||n.url){if(jc[r])throw new Error("Url already open");jc[r]=!0,setTimeout((function(){delete jc[r]}),800)}return[4,browser.tabs.create(n)];case 1:return[2,o.sent()]}}))}))},Dc=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Rc=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Uc=function(t){var e=void 0===t?{}:t,n=e.action,r=e.partnerId,o=e.independent;return Dc(void 0,void 0,void 0,(function(){var t;return Rc(this,(function(e){switch(e.label){case 0:return[4,wa("openForkTab")];case 1:if(e.sent())throw new Error("Fork in progress");return _a("openForkTab",500),t=Mc,[4,Sc({host:a,action:n,partnerId:r,independent:o})];case 2:return t.apply(void 0,[e.sent(),"fork"]).then((function(t){t.id&&Lc(t.id);var e=function(n){var r,o;t.id===n&&(browser.tabs.onRemoved.removeListener(e),null===(o=null===(r=browser.action)||void 0===r?void 0:r.openPopup)||void 0===o||o.call(r))};browser.tabs.onRemoved.addListener(e)})),[2]}}))}))},$c=["http://*/*","https://*/*","ftp://*/*","ws://*/*","wss://*/*","https://account.protonvpn.com/*","https://account.proton.me/*"];"https://account.proton.me"!==a&&$c.push(a+"/*");var qc,Hc,Bc,Gc,Fc,Vc,zc,Zc,Wc,Yc,Jc,Kc,Xc,Qc,ts={permissions:["proxy"],origins:$c},es=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ns=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},rs=function(t){return es(void 0,void 0,void 0,(function(){return ns(this,(function(e){return[2,new Promise((function(e){var r,o,i=null===(o=null===(r=n.g[t])||void 0===r?void 0:r.protonvpn)||void 0===o?void 0:o.getStatus;"function"!=typeof i?e({oauthAllowed:!1,loggedInUser:!1,signupButton:!1}):i((function(n){var r;"boolean"==typeof(null==n?void 0:n.isLoggedIn)?e({partnerId:null===(r=Cc[t])||void 0===r?void 0:r.id,oauthAllowed:!0,loggedInUser:n.isLoggedIn,signupButton:n.canSignUp||!1}):e({oauthAllowed:!1,loggedInUser:!1,signupButton:!1})}))}))]}))}))},os=function(){return es(void 0,void 0,void 0,(function(){var t,e;return ns(this,(function(n){switch(n.label){case 0:return t=Object.keys(Cc),[4,Promise.all(t.map(rs))];case 1:return e=n.sent().filter((function(t){return t.oauthAllowed})),[2,e[0]||{oauthAllowed:!1,loggedInUser:!1,signupButton:!1}]}}))}))},is=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},as=void 0,cs=0,ss=function(t){as||(as=6553);var e,n=function(t,e){var n=Math.floor(t/e)*e;return n===as?n-100:n}(as,100),r=new Intl.NumberFormat("en-US",e).format(n);t&&"querySelectorAll"in t&&t.querySelectorAll(".incentive-paragraph").forEach((function(t){t.innerHTML=io("Info").plural(n,no(qc||(qc=is(["High performance Swiss VPN that protects your privacy. Maximum security, more than "," server and no restrictions."],["High performance Swiss VPN that protects your privacy. Maximum security, more than "," server and no restrictions."])),r),"High performance Swiss VPN that protects your privacy. Maximum security, more than ".concat(r," servers and no restrictions."))}))},us=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ls=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},fs=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ds=function(){if(Date.now()-cs>ti.fromHours(3))return mc().then((function(t){var e;return e=t.Servers,as=e,cs=Date.now(),ss(),t}))},ps=function(t,e,n,r){return ls(void 0,void 0,void 0,(function(){var o,i,a,c,s,u,l,f,p,v,h,y,g,m,b,w,_;return fs(this,(function(x){switch(x.label){case 0:return t&&e?((r=!(void 0!==r&&!r||!chrome.proxy))&&chrome.permissions.contains(ts,(function(r){r||vs(t,e,n,!1)})),o=function(t){return function(e){if(e){c.classList.add("update-extension"),c.innerHTML=io("Action").t(Bc||(Bc=us(["Update"],["Update"])));var n=(null==e?void 0:e.Error)||Jo(e);i[0]&&(i[0].classList.remove("incentive-paragraph"),i[0].innerHTML=" "+n),i[1]&&(i[1].style.display="none"),a&&(a.style.display="none");var r=new Error(t+": "+n);r.previous=e,fi(r)}}},null===(_=ds())||void 0===_||_.catch(o("prepareSigningView")),i=t.querySelectorAll("p"),a=t.querySelector("button.sign-up-button"),c=t.querySelector("button.sign-in-button"),s=t.querySelector("a.sign-in-link"),c.classList.remove("update-extension"),u=function(t){void 0===t&&(t=""),c.innerHTML=t||(r?io("Action").t(Gc||(Gc=us(["Sign in"],["Sign in"]))):io("Action").t(Fc||(Fc=us(["Next"],["Next"]))))},[4,os()]):[2,Uc()];case 1:return l=x.sent(),f=l.oauthAllowed,p=l.signupButton,v=l.partnerId,u(f?io("Action").t(Vc||(Vc=us(["Sign in with Vivaldi"],["Sign in with Vivaldi"]))):""),s.style.display=f?"inline":"none",f?((h=t.querySelector(".sign-up-button-box"))&&!p&&(h.style.display="none"),t.classList.add("partner"),y="img/partner-welcome-image-dark@2x.svg",g=new Image,[4,new Promise((function(t){g.onload=t,g.onerror=t,g.src=y,setTimeout(t,1e3)}))]):[3,3];case 2:x.sent(),t.querySelectorAll("img.welcome-background").forEach((function(t){t.src=y})),(m=t.querySelector("h1"))&&(m.innerText=io("Title").t(zc||(zc=us(["Proton VPN for Vivaldi"],["Proton VPN for Vivaldi"])))),(b=t.querySelector(".incentive-paragraph"))&&(b.innerText=io("Info").t(Zc||(Zc=us(["Protect yourself online with Proton's free highspeed VPN."],["Protect yourself online with Proton's free highspeed VPN."])))),x.label=3;case 3:if(t.style.display="block",e.style.display="none",n&&(n.style.display="none"),w=function(t){return ls(void 0,void 0,void 0,(function(){var e;return fs(this,(function(n){switch(n.label){case 0:return e=setTimeout((function(){window.close()}),200),[4,browser.permissions.request(ts)];case 1:return n.sent()?(r||vi(No(To.PROXY)),clearTimeout(e),[4,Uc({partnerId:t})]):[2];case 2:return n.sent(),window.close(),[2]}}))}))},c.addEventListener("click",(function(){return ls(void 0,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return c.classList.contains("update-extension")?(vi(Mc(lc().pluginsUrl)),window.close(),[2]):[4,w(v)];case 1:return t.sent(),[2]}}))}))})),s&&s.addEventListener("click",(function(){return ls(void 0,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return[4,w(void 0)];case 1:return t.sent(),[2]}}))}))})),setTimeout((function(){c.scrollIntoView()})),i[0]){if(!r)return i[0].classList.remove("incentive-paragraph"),i[0].innerHTML="<b>".concat(io("Info").t(Wc||(Wc=us(["Allow VPN permissions"],["Allow VPN permissions"]))),"</b><br><br>")+io("Info").t(Yc||(Yc=us(["To get started, youll need to enable VPN permissions on your browser."],["To get started, youll need to enable VPN permissions on your browser."])))+"<br><br>"+io("Info").t(Jc||(Jc=us(["Press <b>Next</b>, then click <b>Allow</b> on the pop-up from your browser."],["Press <b>Next</b>, then click <b>Allow</b> on the pop-up from your browser."])))+"<br><br>"+io("Info").t(Kc||(Kc=us(["Then just click the Proton VPN icon to sign in."],["Then just click the Proton VPN icon to sign in."]))),[2];!function(t,e,n){if(n)return e.classList.add("partner-subtitle"),e.classList.remove("incentive-paragraph"),void(e.innerText=io("Info").t(Hc||(Hc=is(["Protect yourself online with Proton's free highspeed VPN."],["Protect yourself online with Proton's free highspeed VPN."]))));e.classList.add("incentive-paragraph"),ss(t)}(t,i[0],f)}return r&&d?(!f&&i[1]&&(i[1].style.display="",i[1].innerHTML=io("Action").t(Xc||(Xc=us(["New to Proton?"],["New to Proton?"])))),a&&(a.style.display="",a.innerHTML=io("Action").t(Qc||(Qc=us(["Create an account"],["Create an account"]))),a.addEventListener("click",(function(){return ls(void 0,void 0,void 0,(function(){return fs(this,(function(t){switch(t.label){case 0:return[4,Uc({action:"signup",partnerId:v})];case 1:return t.sent(),null===window||void 0===window||window.close(),[2]}}))}))}))),Ui().then(o("getUpdateError")),[2]):(i[1]&&(i[1].style.display="none"),a&&(a.style.display="none"),[2])}}))}))},vs=function(t,e,n,r){vi(ps(t,e,n,r))},hs=function(){return hs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},hs.apply(this,arguments)};var ys=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},gs=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ms=n.g||window;ms.browser||(ms.browser=chrome);var bs,ws,_s,xs,Ss,Es,Cs,ks,Os,Ts,Ps,As,Ls,Ns,Is,js,Ms,Ds,Rs,Us,$s,qs,Hs,Bs,Gs,Fs,Vs=function(t){return void 0===t&&(t={}),ys(void 0,void 0,void 0,(function(){var e,n,r;return gs(this,(function(o){switch(o.label){case 0:return ds(),[4,Ci(t)];case 1:return o.sent(),e=document.getElementById("spinner"),n=document.getElementById("sign-in-view"),r=document.getElementById("logged-view"),n&&r?(vs(n,r,e),[2,!1]):(function(t,e){void 0===e&&(e={}),e.error instanceof Error&&(e.error={message:e.error.message,stack:e.error.stack}),Ni("changeState",hs({state:t},e))}("logged-out"),[2,!1])}}))}))},zs=function(t){return void 0===t&&(t={}),Vs(t)},Zs=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ws=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ys=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Js=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ks=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Xs=function(t){return Object.values((null==t?void 0:t.groups)||{}).reduce((function(t,e){return t.concat.apply(t,Ks([],Js(Xs(e)),!1))}),(null==t?void 0:t.logicals)||[])},Qs=function(t,e,n){var r=function(t,e){var n=(t||[]).filter((function(t){return sc(t)&&e>=t.Tier})),r=1/0,o=void 0;return n.forEach((function(t){t.Score<r&&(r=t.Score,o=t)})),o}(t,e);if(!r)throw null==n||n(new Error(io("Error").t(bs||(bs=Ys(["Unable to find appropriate server, try to logout and login again if it persists"],["Unable to find appropriate server, try to logout and login again if it persists"]))))),new Error("Missconfigured server. Cannot find the best one.");return r},tu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},eu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nu=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ru=function(t,e){return void 0===e&&(e=!1),t=t.toUpperCase(),'<img\n\t\tclass="country-flag-img"\n\t\tsrc="/img/flags/'.concat((t={UK:"GB"}[t]||t).toLowerCase(),'.svg"\n\t\talt="').concat(String.fromCodePoint.apply(String,nu([],eu(nu([],eu(t),!1).map((function(t){return t.charCodeAt(0)+127397}))),!1)),'"\n\t\twidth="20"\n\t\theight="15"\n\t\t').concat(e?'aria-hidden="true"':"","\n\t/>")},ou=function(t){return Object.keys(t).map((function(e){return{key:e,value:t[e]}}))},iu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},au=function(t){return ou(t).map((function(t){var e=t.key,n=t.value;return" data-".concat(e,'="').concat(go("".concat(n)),'"')})).join("")},cu='data-href="'.concat(s,'" data-forget-account="1" data-upgrade="1"'),su=function(t){return void 0===t&&(t=[]),'<button class="upgrade-button '.concat(t.join(" "),'" ').concat(cu,'>\n\t<img src="img/vpn-plus.svg" alt="Proton VPN" width="33" height="20">\n</button>')},uu='<svg fill="currentColor" class="small-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M28.6563,7.4609a1,1,0,0,0-1.6094-.2763l-4.8291,4.83-2.2266-.0058-.0058-2.2256,4.831-4.8291A1,1,0,0,0,24.54,3.3447a8.7264,8.7264,0,0,0-3.7373-.8437,8.6866,8.6866,0,0,0-8.3476,11.0947L3.7012,22.3506a4.1039,4.1039,0,0,0,0,5.7978l.15.15A4.0725,4.0725,0,0,0,6.75,29.5a4.1282,4.1282,0,0,0,2.8994-1.2l8.7559-8.7539a8.6881,8.6881,0,0,0,10.251-12.085ZM6.8154,26.1855a1,1,0,1,1,1-1A.9994.9994,0,0,1,6.8154,26.1855Z"/>\n</svg>',lu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},fu=function(t){return void 0===t&&(t=""),'<span class="via-country '.concat(t,'" title="').concat(io("Label").t(xs||(xs=lu(["Via"],["Via"]))),'"><svg aria-label="" viewBox="0 0 24 24" fill="currentColor">\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4697 3.21967C11.1768 3.51256 11.1768 3.98744 11.4697 4.28033L19.1893 12L11.4697 19.7197C11.1768 20.0126 11.1768 20.4874 11.4697 20.7803C11.7626 21.0732 12.2374 21.0732 12.5303 20.7803L20.7803 12.5303C21.0732 12.2374 21.0732 11.7626 20.7803 11.4697L12.5303 3.21967C12.2374 2.92678 11.7626 2.92678 11.4697 3.21967ZM3.21967 3.21967C2.92678 3.51256 2.92678 3.98744 3.21967 4.28033L10.9393 12L3.21967 19.7197C2.92678 20.0126 2.92678 20.4874 3.21967 20.7803C3.51256 21.0732 3.98744 21.0732 4.28033 20.7803L12.5303 12.5303C12.8232 12.2374 12.8232 11.7626 12.5303 11.4697L4.28033 3.21967C3.98744 2.92678 3.51256 2.92678 3.21967 3.21967Z" />\n</svg></span>')},du=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},pu=new pa((function(t){return t})).asc("Score").desc("Load").asc("Name"),vu=function(t,e,n,r,o){return void 0===o&&(o=!1),(o?e:function(t){var e=t.slice();return pu.sort(e),e}(e)).map((function(e){var o,i,a,c=sc(e),s=e.Name,u=r?{exitCountry:e.ExitCountry,entryCountry:e.EntryCountry}:{id:e.ID};return"\n\t\t<div\n\t\t\t".concat(c?'\n\t\t\t\t\tclass="server connection-button-container"\n\t\t\t\t\ttabindex="0"\n\t\t\t\t\trole="button"\n\t\t\t\t\ttitle="'.concat(io("Action: Server-level button").t(Ss||(Ss=du(["Connect to ",""],["Connect to ",""])),s),'"\n\t\t\t\t\t').concat(t<=0?cu:au(u),"\n\t\t\t\t\t"):'class="server in-maintenance"','\n\t\t>\n\t\t\t<div class="load-block" title="').concat(e.Load,'%">\n\t\t\t\t<div class="load-percentage">\n\t\t\t\t\t<svg aria-label="').concat(e.Load,'%" viewBox="0 0 36 36" class="circular-chart">\n\t\t\t\t\t\t<path class="circle-bg"\n\t\t\t\t\t\t\td="M18 2.0845\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 31.831\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 -31.831"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path class="circle"\n\t\t\t\t\t\t\t').concat(function(t){var e=(null==t?void 0:t.Load)||0;return'\n\t\tstroke-dasharray="'.concat(Math.round(e),', 100"\n\t\tstyle="stroke: ').concat(function(t){return t<=75?"#1ea885":t<=90?"#ff9900":"#f7607b"}(e),'"\n\t')}(e),'\n\t\t\t\t\t\t\td="M18 2.0845\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 31.831\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 -31.831"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="server-infos">\n\t\t\t\t<span\n\t\t\t\t\tclass="server-name"\n\t\t\t\t\tdata-server-id="').concat(go("".concat(e.ID)),'"\n\t\t\t\t>').concat(r?'<span class="country-flag">'.concat(ru(e.EntryCountry),"</span> ").concat(fu("top-small")," ").concat((null===(o=e.Translations)||void 0===o?void 0:o.EntryCountryName)||e.EntryCountryName):s,"</span>").concat(e.City&&((null===(i=e.Translations)||void 0===i?void 0:i.City)||e.City)!==n?' &nbsp; <span\n\t\t\t\t\tclass="city-name"\n\t\t\t\t\tdata-english-city-name="'.concat(go(e.City),'"\n\t\t\t\t\tdata-country-code="').concat(go(e.ExitCountry),'"\n\t\t\t\t>').concat(go((null===(a=e.Translations)||void 0===a?void 0:a.City)||e.City),"</span>"):"",'\n\t\t\t</div>\n\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t').concat(!c||t<=0||e.Tier>t?"":io("Action").t(Es||(Es=du(["Connect"],["Connect"]))),'\n\t\t\t</div>\n\t\t\t<div class="button-box">\n\t\t\t\t').concat(c?t<=0||e.Tier>t?su():'\n\t<button class="connection-button"'.concat(au(u),'>\n\t\t<span class="text">').concat(io("Action").t(_s||(_s=iu(["Connect"],["Connect"]))),'</span>\n\t\t<svg viewBox="0 0 64 64" class="icon">\n\t\t\t<path d="M56.826,32C56.826,18.311,45.689,7.174,32,7.174S7.174,18.311,7.174,32S18.311,56.826,32,56.826S56.826,45.689,56.826,32z   M34.437,31.962c0,1.301-1.054,2.356-2.356,2.356c-1.301,0-2.356-1.055-2.356-2.356V19.709c0-1.301,1.055-2.356,2.356-2.356  c1.301,0,2.356,1.054,2.356,2.356V31.962z M48.031,32.041c0,8.839-7.191,16.03-16.031,16.03s-16.031-7.191-16.031-16.03  c0-4.285,1.669-8.313,4.701-11.34c0.46-0.46,1.062-0.689,1.665-0.689s1.207,0.23,1.667,0.691c0.92,0.921,0.919,2.412-0.002,3.332  c-2.139,2.138-3.318,4.981-3.318,8.006c0,6.24,5.077,11.317,11.318,11.317s11.318-5.077,11.318-11.317  c0-3.023-1.176-5.865-3.314-8.003c-0.92-0.921-0.919-2.412,0.001-3.333c0.921-0.921,2.412-0.919,3.333,0.001  C46.364,23.734,48.031,27.76,48.031,32.041z"/>\n\t\t</svg>\n\t</button>\n'):uu,"\n\t\t\t</div>\n\t\t</div>\n\t")})).join("")},hu=function(t,e){var n;if("logicals"in e&&(null===(n=e.logicals)||void 0===n?void 0:n.length)&&!hu(t,e.logicals))return!1;if("groups"in e){var r=Object.values(e.groups||{});if(r.length&&!r.every((function(e){return hu(t,e)})))return!1}return"function"!=typeof e.every||!e.length||e.every((function(e){return t<e.Tier}))},yu=function(t,e){return'\n\t<button title="'.concat(e,'" class="expand-button" tabindex="0" ').concat(au(t),'><svg class="sm-icon" aria-label="').concat(e,'" viewBox="0 0 24 24" fill="currentColor">\n\t\t<path fill-rule="evenodd" d="M7.745 20.805a.75.75 0 0 1-.05-1.06L14.736 12 7.695 4.255a.75.75 0 1 1 1.11-1.01l7.5 8.25a.75.75 0 0 1 0 1.01l-7.5 8.25a.75.75 0 0 1-1.06.05Z" clip-rule="evenodd"/>\n\t</svg></button>\n')},gu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},mu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bu=function(t,e,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o=!1),void 0===i&&(i="");var a=e.length,c=n?io("Label").plural(a,no(Cs||(Cs=gu(["Entry country"],["Entry country"]))),"Entry countries")+(a>1?" ("+a+")":""):io("Label").plural(a,no(ks||(ks=gu(["Server"],["Server"]))),"Servers")+(a>1?" ("+a+")":"");return'\n\t\t<div\n\t\t\tclass="servers-group'.concat(Su(e)?" with-tooltip":""," ").concat(i||"group-logicals",'"\n\t\t\t').concat(t<=0?cu:au(r),'\n\t\t>\n\t\t\t<div class="server-type group-section">').concat(c,'</div>\n\t\t\t<div class="server-items">').concat(vu(t,e,c,n,o),"</div>\n\t\t</div>\n\t")},wu=function(t){return Math.min(((null==t?void 0:t.logicals)||[]).reduce((function(t,e){return Math.min(t,e.Tier)}),2),Object.values((null==t?void 0:t.groups)||{}).reduce((function(t,e){return Math.min(t,wu(e))}),2))},_u='<svg class="small-icon" viewBox="-3 -1 24 24" role="img" focusable="false">\n\t<path fill-rule="evenodd" clip-rule="evenodd" d="M9 0.5C9.30668 0.5 9.58246 0.686713 9.69636 0.971457C10.37 2.65562 11.5843 3.78597 12.873 4.74687C13.1951 4.98702 13.5179 5.21389 13.8382 5.43757C13.8726 5.46159 13.907 5.48561 13.9415 5.50962C14.2243 5.70701 14.5067 5.90404 14.773 6.09935C15.3625 6.5317 15.938 7.00078 16.3502 7.54957C17.386 8.92848 18 10.6436 18 12.5C18 14.8136 16.8599 17.0574 15.2086 18.7086C13.5574 20.3599 11.3136 21.5 9 21.5C6.68642 21.5 4.44259 20.3599 2.79137 18.7086C1.14015 17.0574 0 14.8136 0 12.5C0 10.6436 0.614036 8.92848 1.64978 7.54957C2.06199 7.00078 2.63748 6.5317 3.22699 6.09935C3.4933 5.90404 3.77567 5.70701 4.05855 5.50962C4.09296 5.48561 4.12738 5.46159 4.16178 5.43757C4.48211 5.21389 4.80495 4.98702 5.12702 4.74687C6.41569 3.78597 7.62998 2.65562 8.30364 0.971457C8.41754 0.686713 8.69332 0.5 9 0.5ZM4.11409 7.30892C3.54397 7.72705 3.12107 8.08839 2.84913 8.45043C2.0018 9.5785 1.5 10.9796 1.5 12.5C1.5 14.3286 2.41378 16.2097 3.85203 17.648C4.49187 18.2878 5.21938 18.8239 5.99091 19.2218C5.72839 18.9304 5.48633 18.607 5.26811 18.2605C4.34149 16.789 3.75 14.772 3.75 12.5C3.75 10.7553 4.42637 9.43311 5.08005 8.15528C5.16396 7.99126 5.2475 7.82796 5.32918 7.66459C5.74669 6.82957 6.11435 6.24273 6.447 5.71179C6.48324 5.65395 6.51906 5.59677 6.55449 5.54001C6.37685 5.6822 6.19937 5.81836 6.02366 5.94938C5.68119 6.20475 5.34153 6.44327 5.02056 6.66741C4.98594 6.69158 4.95158 6.71556 4.91748 6.73935C4.63231 6.93836 4.36518 7.12478 4.11409 7.30892ZM8.25 5.63409C8.05075 5.99063 7.84649 6.31861 7.6387 6.65225C7.32248 7.15999 6.9981 7.68084 6.67082 8.33541C6.58425 8.50854 6.49944 8.67559 6.41705 8.83786C5.75523 10.1414 5.25 11.1365 5.25 12.5C5.25 14.5236 5.77886 16.2566 6.53742 17.4612C7.07102 18.3086 7.67549 18.8375 8.25 19.0845V5.63409ZM9.75 19.95C11.3335 19.7409 12.9059 18.89 14.148 17.648C15.5862 16.2097 16.5 14.3286 16.5 12.5C16.5 10.9796 15.9982 9.5785 15.1509 8.45043C14.8789 8.08839 14.456 7.72705 13.8859 7.30892C13.6348 7.12477 13.3677 6.93835 13.0825 6.73933C13.0484 6.71554 13.014 6.69157 12.9794 6.66741C12.6585 6.44327 12.3188 6.20475 11.9763 5.94938C11.2248 5.38899 10.4409 4.73446 9.75 3.91648V19.95Z" />\n</svg>',xu=function(t){return(t.logicals||[]).some(sc)||Object.values(t.groups||{}).some(xu)},Su=function(t){return t.some((function(t){return!(t.Features&(Na.SECURE_CORE|Na.TOR|Na.RESTRICTED|Na.PARTNER))}))},Eu=function(t){return Su(t.logicals||[])||Object.values(t.groups||{}).some(Eu)},Cu=function(t,e,n,r,o,i,a){return void 0===a&&(a=!1),i.map((function(o){var i;return o&&(Object.values((null==o?void 0:o.groups)||{}).length||(null===(i=null==o?void 0:o.logicals)||void 0===i?void 0:i.length))?{group:o,list:Ou(t,e,o,n,r,a)}:{}})).filter((function(t){return t.list})).map((function(n){var r=n.group,i=n.list;if("secureCore"===r.type)return i;var c="expand-".concat(e,"-").concat("".concat(Math.random()).substring(2)),s=xu(r),u=r.name,l=t<=0,f=t<=0||o,d=f||!s;return'\n\t\t\t<div class="servers-group" data-tier="'.concat(wu(r),'" data-country-code="').concat(e,'">\n\t\t\t\t<div class="server-type list-item-box').concat(l?" gray-out":"",'">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="flex flex-1 text-left group-button button-light-hover connect-option').concat(d?"":" connect-clickable").concat(s?"":" in-maintenance",'"\n\t\t\t\t\t\ttitle="').concat(io("Action: City-level button").t(Os||(Os=gu(["Connect to ",""],["Connect to ",""])),u),'"\n\t\t\t\t\t\t').concat(s?f?cu:au({exitCountry:e,subGroup:r.englishName}):"","\n\t\t\t\t\t>\n\t\t\t\t\t\t").concat(a?'<div class="group-icon squeezed">'.concat(ru(e,!0),"</div>"):'<div class="group-icon">'.concat(function(t,e){return"tor"===t?_u:"city"===t?'<svg class="small-icon" viewBox="0 0 24 24" role="img" focusable="false">\n\t\t\t<path fill-rule="evenodd" d="M12 3C8.675 3 6 5.67 6 8.94c0 1.66.47 3.29 1.36 4.7l4.392 6.972a16.527 16.527 0 0 0 .248.386l.018-.026c.05-.076.117-.181.23-.36l4.393-6.972A8.815 8.815 0 0 0 18 8.94C18 5.67 15.325 3 12 3ZM6.09 14.44a10.315 10.315 0 0 1-1.59-5.5C4.5 4.83 7.858 1.5 12 1.5c4.142 0 7.5 3.33 7.5 7.44 0 1.945-.55 3.85-1.59 5.5l-4.393 6.972c-.215.341-.323.512-.423.618a1.508 1.508 0 0 1-2.188 0c-.1-.106-.208-.277-.423-.619L6.09 14.44Z" clip-rule="evenodd"/>\n\t\t\t<path fill-rule="evenodd" d="M12 10.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0 1.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" clip-rule="evenodd"/>\n\t\t</svg>':"free"===t?ru(e,!0):'<svg class="small-icon" viewBox="0 0 24 24" role="img" focusable="false">\n\t\t<path d="M20 3H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2zM4 9V5h16v4zm16 4H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zM4 19v-4h16v4z"/>\n\t\t<path d="M17 6h2v2h-2zm-3 0h2v2h-2zm3 10h2v2h-2zm-3 0h2v2h-2z"/>\n\t</svg>'}(r.type,e),"</div>"),'\n\t\t\t\t\t\t<div class="flex-1 group-name">').concat(u,'</div>\n\t\t\t\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t\t\t\t').concat(d?"":io("Action").t(Ts||(Ts=gu(["Connect"],["Connect"]))),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="button-box">\n\t\t\t\t\t\t').concat(s?t<=0||o?su():"":uu,"\n\t\t\t\t\t\t").concat(yu({exitCountry:e,subGroup:r.englishName,subGroupName:r.name,upgradeNeeded:o?1:0,expand:c},io("Action").t(Ps||(Ps=gu(["Select a server in ",""],["Select a server in ",""])),u)),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="servers-list" id="').concat(c,'">').concat(i,"</div>\n\t\t\t</div>\n\t\t")}))},ku=function(t,e,n,r,o,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),function(t){var e=t.groups||{},n=e.Free,r=e.Tor,o=e.SecureCore,i=e.Other,a=ou(e).filter((function(t){return!{Free:!0,Tor:!0,SecureCore:!0,Other:!0}[t.key]})).map((function(t){return t.value}));return[[io("Label").t(As||(As=gu(["Free servers"],["Free servers"]))),[n]],[io("Label").t(Ls||(Ls=gu(["Cities"],["Cities"]))),a],[io("Info").t(Ns||(Ns=gu(["Secure Core"],["Secure Core"]))),[o]],[io("Label").t(Is||(Is=gu(["Other"],["Other"]))),[r,i]]]}(n).map((function(c){var s=mu(c,2),u=s[0],l=s[1],f=l.filter(Boolean),d=Cu(t,e,r,o,f.every((function(e){return hu(t,e)})),l,a),p=d.length;return p<1?"":(i&&!o?'<div\n\t\t\t\tclass="servers-group group-section'.concat(f.some(Eu)?" with-tooltip":"",'"\n\t\t\t\tdata-tier="').concat(wu(n),'"\n\t\t\t\tdata-country-code="').concat(e,'"\n\t\t\t>').concat(u).concat(p>1?" ("+p+")":"","</div>"):"")+d.join("")}))},Ou=function(t,e,n,r,o,i){void 0===i&&(i=!1);var a=r(n.logicals||[]),c=t>0&&o;return a.length?bu(t,a,c,{tier:a.reduce((function(t,e){return Math.min(t,e.Tier)}),2),"country-code":e}):ku(t,e,n,r,c,!0,i).join("")},Tu=function(t){return(t.logicals||[]).some((function(t){return t.SearchScore}))||Object.values(t.groups||{}).some(Tu)},Pu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Au=function(){return Au=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Au.apply(this,arguments)},Lu=function(t,e){return function(n){return!!(n.Features&Na.SECURE_CORE)===(t>0&&e.value)}},Nu=new pa((function(t,e){return e[t]})).asc("needUpgrade").desc("searchScore").desc("score").asc("name"),Iu=function(t,e){var n=function(t){return((null==t?void 0:t.logicals)||[]).some(e)||Object.values((null==t?void 0:t.groups)||{}).some((function(t){return n(t)}))};return mo(t).filter((function(e){return n(t[e])}))},ju=function(t,e,n,r,o,i,a){void 0===o&&(o=!1),void 0===i&&(i={}),void 0===a&&(a=!1);var c=Iu(t,n),s=c.length;return 0===s?"":(Nu.sort(c,t),(r?'<div class="servers-group group-section">'.concat(r(s),"</div>"):"")+c.map((function(r){return function(t,e,n,r,o,i,a){void 0===i&&(i={}),void 0===a&&(a=!1);var c=hu(t,n),s="expand-".concat(e,"-").concat("".concat(Math.random()).substring(2)),u=xu(n),l=n.name,f=t<=0,d=u&&t>0;return'\n\t<div class="country-block">\n\t\t<div class="details-box '.concat(Tu(n)?" details-box-open":"",'">\n\t\t\t<div class="details-box-summary connection-button-container">\n\t\t\t\t<div class="country-header list-item-box').concat(f?" gray-out":"",'">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="flex flex-1 text-left connect-option').concat(d?" connect-clickable":"",'"\n\t\t\t\t\t\ttitle="').concat(io("Action: Country-level button").t(js||(js=Pu(["Connect to ",""],["Connect to ",""])),l),'"\n\t\t\t\t\t\t').concat(u?d?au(Au(Au({},i),{exitCountry:e})):cu:"",'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="country-flag">\n\t\t\t\t\t\t\t').concat(o?fu():"","\n\t\t\t\t\t\t\t").concat(ru(e),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="country-name" data-country-code="').concat(e,'">\n\t\t\t\t\t\t\t').concat(l,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t\t\t\t').concat(d?io("Action").t(Ms||(Ms=Pu(["Connect"],["Connect"]))):"",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="button-box">\n\t\t\t\t\t\t').concat(u?t<=0||c?su():"":uu,"\n\t\t\t\t\t\t").concat(yu({exitCountry:e,upgradeNeeded:c?1:0,expand:s},o?io("Action").t(Ds||(Ds=Pu(["Select entry country with exit in ",""],["Select entry country with exit in ",""])),l):io("Action").t(Rs||(Rs=Pu(["Select a city in ",""],["Select a city in ",""])),l)),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="details-box-body servers-list" id="').concat(s,'">\n\t\t\t\t').concat(Ou(t,e,n,r,o,a),"\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t")}(e,r,t[r],(function(t){return t.filter(n).sort((function(t,n){return da(e<t.Tier,e<n.Tier)||da(n.SearchScore,t.SearchScore)||da(t.Name,n.Name)}))}),e>0&&o,i,a)})).join(""))},Mu=function(t,e,n,r){return void 0===n&&(n={value:!1}),ju(t,e,Lu(e,n),r,e>0&&n.value)},Du=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Ru=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Uu=void 0,$u=x.item("streaming-services",t.LOCAL),qu=function(){return Du(void 0,void 0,void 0,(function(){var t;return Ru(this,(function(e){switch(e.label){case 0:return[4,ea("vpn/streamingservices")];case 1:return t=e.sent(),Uu={time:Date.now(),value:t},vi($u.set(Uu)),[2,t]}}))}))},Hu=function(){return Du(void 0,void 0,void 0,(function(){var t,e,n;return Ru(this,(function(r){switch(r.label){case 0:return[4,$u.get()];case 1:if((t=r.sent())&&(!Uu||t.time>Uu.time)&&(Uu=t),e=$a(Uu),Uu&&e<ka())return[2,Uu.value];if(Uu&&e<3*ka())return vi(qu()),[2,Uu.value];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,qu()];case 3:return[2,r.sent()];case 4:if(n=r.sent(),null==Uu?void 0:Uu.value)return[2,Uu.value];throw n;case 5:return[2]}}))}))},Bu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Gu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fu=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Vu=function(t){Hu().then((function(e){if(e){var n=e.ResourceBaseURL,r=e.StreamingServices,o=r["*"]||{};(t||document).querySelectorAll(".servers-group.with-tooltip").forEach((function(t){var e,i,a=t.getAttribute("data-country-code"),c=t.getAttribute("data-tier"),s=r[a]||"GB"===a&&r.UK||{},u=Fu(Fu([],Gu(s[c]||[]),!1),Gu(o[c]||[]),!1);if(0!==u.length){var l={};u.forEach((function(t){l[t.Name]=t})),t.querySelectorAll(".group-tooltip").forEach((function(e){t.removeChild(e)}));var f=document.createElement("div");f.innerHTML='\n\t\t\t\t<svg class="open-button" height="16" viewBox="0 0 16 16" width="16">\n\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14ZM8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15ZM9.74995 11C9.74995 11.3038 9.50371 11.55 9.19995 11.55H8.19995H7.19995C6.89619 11.55 6.64995 11.3038 6.64995 11C6.64995 10.6962 6.89619 10.45 7.19995 10.45H7.64995L7.64995 7.55H7.49994C7.19618 7.55 6.94994 7.30376 6.94994 7C6.94994 6.69624 7.19618 6.45 7.49994 6.45H8.19995C8.34582 6.45 8.48571 6.50795 8.58886 6.61109C8.69201 6.71424 8.74995 6.85413 8.74995 7L8.74995 10.45H9.19995C9.50371 10.45 9.74995 10.6962 9.74995 11ZM8 5.40002C8.3866 5.40002 8.7 5.08662 8.7 4.70002C8.7 4.31343 8.3866 4.00002 8 4.00002C7.6134 4.00002 7.3 4.31343 7.3 4.70002C7.3 5.08662 7.6134 5.40002 8 5.40002Z" />\n\t\t\t\t</svg>\n\t\t\t\t<div class="expanded-tooltip">\n\t\t\t\t\t<div class="close-button">\n\t\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n                    <div class="tooltip-title streaming-info">'.concat(io("Title").t(Us||(Us=Bu(["Features"],["Features"]))),'</div>\n                    <div class="tooltip-row streaming-info">\n                    \t<div class="tooltip-row-icon">\n\t\t\t\t\t\t\t<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" class="streaming-icon">\n\t\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 6.00421C7.5 4.75768 8.93047 4.05335 9.91848 4.81335L17.7136 10.8095C18.4955 11.411 18.4955 12.5898 17.7136 13.1913L9.91848 19.1875C8.93047 19.9475 7.5 19.2431 7.5 17.9966L7.5 6.00421ZM9.00002 6.00275C9.00001 6.0032 9 6.00369 9 6.00421L9 17.9966C9 17.9971 9.00001 17.9976 9.00002 17.9981C9.00042 17.9983 9.00086 17.9985 9.00136 17.9988C9.00185 17.999 9.00232 17.9992 9.00274 17.9994C9.00311 17.9991 9.0035 17.9988 9.00392 17.9985L16.7991 12.0023C16.7994 12.0021 16.7997 12.0018 16.7999 12.0016C16.8 12.0013 16.8 12.0009 16.8 12.0004C16.8 11.9999 16.8 11.9995 16.7999 11.9992C16.7997 11.999 16.7994 11.9987 16.7991 11.9985L9.00392 6.00229C9.0035 6.00197 9.00311 6.00168 9.00274 6.00141C9.00232 6.00159 9.00185 6.00179 9.00136 6.00204C9.00086 6.00228 9.00042 6.00252 9.00002 6.00275Z" />\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tooltip-text">\n\t\t\t\t\t\t\t<h4>').concat(io("Title").t($s||($s=Bu(["Streaming"],["Streaming"])))," - ").concat(yo(a),"</h4>\n\t\t\t\t\t\t\t<p>").concat(io("Info").t(qs||(qs=Bu(["Connect to a Plus server in this country to start streaming.\n\nHint: Clear the cache of the streaming apps to ensure new content appears."],["Connect to a Plus server in this country to start streaming.\\n\\nHint: Clear the cache of the streaming apps to ensure new content appears."]))).replace(/\n/g,"<br />"),'</p>\n\t\t\t\t\t\t\t<div class="streaming-logos">').concat(Object.values(l).map((function(t){return'<img\n\t\t\t\t\t\t\t\t\t\tclass="streaming-logo"\n\t\t\t\t\t\t\t\t\t\tsrc="'.concat(go(n+t.Icon),'"\n\t\t\t\t\t\t\t\t\t\talt="').concat(go(t.Name),'"\n \t\t\t\t\t\t\t\t\t/>')})).join(" &nbsp; "),"</div>\n\t\t\t\t\t\t\t<p>").concat(io("Info").t(Hs||(Hs=Bu(["and more"],["and more"]))),"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"),f.setAttribute("class","group-tooltip"),t.insertBefore(f,t.firstChild),null===(e=f.querySelector(".open-button"))||void 0===e||e.addEventListener("click",(function(){f.classList.add("open")})),null===(i=f.querySelector(".close-button"))||void 0===i||i.addEventListener("click",(function(){f.classList.remove("open")}))}}))}}))},zu=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Zu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Wu=x.item("notifications",t.LOCAL),Yu=function(t){return void 0===t&&(t=!1),zu(void 0,void 0,void 0,(function(){var e;return Zu(this,(function(n){switch(n.label){case 0:return t?[3,2]:[4,Wu.load()];case 1:if(e=n.sent(),$a(e)<(Sa()?ti.fromDays(1):ti.fromHours(6)))return[2,(null==e?void 0:e.value)||[]];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,zu(void 0,void 0,void 0,(function(){var t,e;return Zu(this,(function(n){switch(n.label){case 0:return[4,ea("core/v4/notifications")];case 1:return t=n.sent(),(e=t.Notifications)?(vi(Wu.setValue(e)),[2,e]):[2,[]]}}))}))];case 3:return[2,n.sent()];case 4:return n.sent(),[2,[]];case 5:return[2]}}))}))},Ju=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Ku=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Xu=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Qu=0,tl=function(){return Ku(void 0,void 0,void 0,(function(){var t,e,n,r;return Xu(this,(function(o){switch(o.label){case 0:return t=Date.now(),[4,Yu()];case 1:return e=o.sent().filter((function(e){return(!e.StartTime||t>=ti.fromSeconds(e.StartTime))&&(!e.EndTime||t<ti.fromSeconds(e.EndTime))})),n=document.querySelector(".notifications"),0===e.length?(n.innerHTML="",[2]):(r=e.filter((function(t){return 0===t.Type})),[4,Promise.all(r.map((function(t){return new Promise((function(e){if(t.Offer.Icon){var n=new Image;n.src=t.Offer.Icon,n.width?e(null):(n.onload=e,n.onerror=e)}else e(null)}))})))]);case 2:return o.sent(),n.innerHTML=r.map((function(t){return'\n\t\t\t<a href="'.concat(t.Offer.URL,'" title="').concat(t.Offer.Label,'">\n\t\t\t\t').concat(t.Offer.Icon?'<img src="'.concat(t.Offer.Icon,'" alt="').concat(t.Offer.Label,'" width="24" height="24" />'):t.Offer.Label||io("Label").t(Bs||(Bs=Ju(["Offer"],["Offer"]))),"\n\t\t\t</a>\n\t\t")})).join(""),Hi(ti.fromMinutes(30),ti.fromMinutes(5),(function(){return Ku(void 0,void 0,void 0,(function(){var t;return Xu(this,(function(e){switch(e.label){case 0:return(t=Date.now())-Qu<ti.fromMinutes(15)?[2]:(Qu=t,[4,tl()]);case 1:return e.sent(),[2]}}))}))})),[2]}}))}))},el={protected:{radialGradientOpacity:1,linearGradient:{x1:16.8924,y1:16.0677,x2:5.45846,y2:-3.49766,stops:[{offset:.0660125,color:"#8EFFEE"},{offset:.4499,color:"#C9C7FF"},{offset:1,color:"#7341FF"}]}},unprotected:{radialGradientOpacity:0,linearGradient:{x1:13.7487,y1:19.9831,x2:.435554,y2:-5.33997,stops:[{offset:.0660125,color:"white"},{offset:.44988,color:"#A7A4B5"},{offset:1,color:"#6D697D"}]}}},nl=function(t){var e=el[t],n=document.getElementById("top-bar-inner-radial-gradient-path");n&&(n.style.opacity="".concat(e.radialGradientOpacity));var r=document.getElementById("top-bar-outer-gradient");r&&["x1","y1","x2","y2"].forEach((function(t){var n;r.setAttribute(t,"".concat(null===(n=e.linearGradient)||void 0===n?void 0:n[t])),r.querySelectorAll("stop").forEach((function(t,n){var r,o,i,a,c,s;t.setAttribute("offset","".concat(null===(i=null===(o=null===(r=e.linearGradient)||void 0===r?void 0:r.stops)||void 0===o?void 0:o[n])||void 0===i?void 0:i.offset)),t.setAttribute("stop-color","".concat(null===(s=null===(c=null===(a=e.linearGradient)||void 0===a?void 0:a.stops)||void 0===c?void 0:c[n])||void 0===s?void 0:s.color))}))}))},rl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},ol=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},il=x.item("last-choice",t.LOCAL),al=function(t){vi(il.setValue(t))},cl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},sl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ul=function(t,e,n){var r=document.querySelectorAll((null==n?void 0:n.buttonSelector)||".".concat(t.key,"-button"));r.forEach((function(o){var i;if(null==n?void 0:n.upgradeNeeded){var a=document.createElement("div");return a.innerHTML=su(),void(null===(i=o.parentNode)||void 0===i||i.replaceChild(a,o))}var c=e.value?"add":"remove";o.classList[c]("activated"),o.setAttribute("aria-pressed",e.value?"true":"false"),o.addEventListener("click",(function(){return cl(void 0,void 0,void 0,(function(){var o,i;return sl(this,(function(a){switch(a.label){case 0:return e.value=!e.value,o=e.value?"add":"remove",r.forEach((function(t){t.classList[o]("activated"),t.setAttribute("aria-pressed",e.value?"true":"false")})),null===(i=null==n?void 0:n.refresh)||void 0===i||i.call(n),[4,t.set(e)];case 1:return a.sent(),[2]}}))}))}))}))},ll=function(){return ll=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ll.apply(this,arguments)},fl=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},dl=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},pl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){t.VPN_CONNECTION="vpn_connection",t.VPN_DISCONNECTION="vpn_disconnection"}(Gs||(Gs={})),function(t){t.CONNECTION="vpn.any.connection"}(Fs||(Fs={}));var vl,hl,yl,gl,ml,bl,wl,_l,xl,Sl,El,Cl,kl,Ol,Tl,Pl=x.item("telemetry"),Al=function(){return new Promise((function(t){t(h)}))},Ll=function(){return Pl.getDefined({value:!1})},Nl=function(t,e){return[t?null:"free",e&Na.TOR?"tor":null,e&Na.P2P?"p2p":null,e&Na.PARTNER?"partnership":null,e&Na.STREAMING?"streaming":null].filter(Boolean).sort().join(",")},Il=function(t,e,n,r){void 0===n&&(n={}),Promise.all([Pl.load(),Ia(),ga(),rl(void 0,void 0,void 0,(function(){var t;return ol(this,(function(e){switch(e.label){case 0:return[4,il.get()];case 1:return[2,(null===(t=e.sent())||void 0===t?void 0:t.value)||{connected:!1}]}}))}))]).then((function(o){var i=pl(o,4),a=i[0].value,c=i[1].location,s=i[2].user,u=i[3];return fl(void 0,void 0,void 0,(function(){var o,i,l,f,d,p,v;return dl(this,(function(h){switch(h.label){case 0:return o=null===(p=null==s?void 0:s.VPN)||void 0===p?void 0:p.MaxTier,i={},l=ll(ll(ll({vpn_trigger:(y=u,y?y.logicalId?"server":y.city?"city":y.exitCountry?"country":"quick":"n/a")},r?{vpn_country:r.ExitCountry||null,server:r.Name||null,server_features:Nl(r.Tier,r.Features)}:{}),{user_country:(null==c?void 0:c.Country)||null,isp:(null==c?void 0:c.ISP)||null,user_tier:o}),n),Object.keys(l).forEach((function(t){var e=l[t];i[t]=null==e?"n/a":"".concat(e)})),f={MeasurementGroup:t,Event:e,Values:{},Dimensions:i},d=[],a&&d.push(Ki("data/v1/stats",Wi("POST",f))),(null===(v=null==s?void 0:s.VPN)||void 0===v?void 0:v.BusinessEvents)&&d.push(Ua("vpn/v1/business/events",Wi("POST",f))),[4,Promise.all(d)];case 1:return h.sent(),[2]}var y}))}))}))},jl=function(t){t=t.toLowerCase().replace(/\s/g,"");try{t=function(t){try{return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}catch(e){return t.replace(/[]/g,"a").replace(//g,"ae").replace(//g,"c").replace(/[]/g,"e").replace(/[]/g,"i").replace(//g,"n").replace(/[]/g,"o").replace(//g,"oe").replace(/[]/g,"u").replace(/[]/g,"y")}}(t)}catch(t){}return t},Ml=function(t,e){return e.reduce((function(e,n){return n=jl(n),e+t.reduce((function(e,r){return e+(n===r?3:n.startsWith(r)?r.length>4?2:1!==t.length&&1===r.length?.4:1:0)}),0)}),0)},Dl=function(t){return t?t.split(/[,;()\s--]+/).map(jl).filter(Boolean):[]},Rl=function(){return Rl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Rl.apply(this,arguments)},Ul=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},$l=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ql=function(t,e){return Ml(t,$l([],Ul(new Set(e.filter((function(t){return"string"==typeof t&&""!==t})))),!1))},Hl=function(t,e,n,r,o,i){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=!1);var a={};Zr(t.groups||{},(function(t,c){var s,u=Hl(c,e,n,r,o,i);(u.searchScore||(null===(s=u.logicals)||void 0===s?void 0:s.length)||u.groups)&&(a[t]=u)}));var c=Rl({},t);delete c.groups,delete c.logicals;var s=i?Na.TOR:0;return Rl(Rl(Rl(Rl({},c),{searchScore:ql(n,$l($l([],Ul(Dl(t.englishName)),!1),Ul(Dl(t.name)),!1))}),o&&t.logicals?{logicals:t.logicals.filter((function(t){return(t.Features&Na.TOR)===s})).map((function(t){return Rl(Rl({},t),{SearchScore:ql(n,$l($l($l($l($l([],Ul(Dl(t.Name)),!1),[t.EntryCountry,t.ExitCountry],!1),Ul(Dl(t.City)),!1),Ul(Dl(t.Region)),!1),Ul(Object.entries(t.Translations||{}).reduce((function(t,e){var n=Ul(e,2),o=n[0],i=n[1];return r||"EntryCountryName"!==o?t.concat(Dl(i)):t}),[])),!1))})})).filter((function(t){return e||t.SearchScore>=n.length}))}:{}),Object.keys(a).length?{groups:a}:{})},Bl=function(){return Bl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Bl.apply(this,arguments)},Gl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Fl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Vl=function(t,e,n,r,o){void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===o&&(o=!1);var i={};return Zr(t,(function(t,a){var c,s=n?Ml(e,Fl([],Gl(new Set(Fl(Fl([t],Gl(Dl(a.name)),!1),Gl(Dl(a.englishName)),!1))),!1)):0,u=r?Hl(a,s,e,n,r,o):a;s<e.length&&(!r||!(null===(c=null==u?void 0:u.logicals)||void 0===c?void 0:c.length)&&!(null==u?void 0:u.groups))||(i[t]=Bl(Bl({},u),{score:s}))})),i},zl=function(){return zl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},zl.apply(this,arguments)},Zl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Wl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Yl=function(t,e,n,r){void 0===n&&(n={value:!1});var o=Lu(e,n),i=Iu(t,o);if(0===i.length)return"";var a={};i.forEach((function(e){var n=t[e];n.groups?Zr(n.groups,(function(t,n){var r;a[e+"|"+t]={name:n.name,englishName:n.englishName,needUpgrade:n.needUpgrade,type:n.type,score:n.score,searchScore:n.searchScore,groups:(r={},r[t]=n,r)}})):a[e]=n}));var c=[];Zr(function(t){var e=mo(t);Nu.sort(e,t);var n={};return e.forEach((function(e){n[e]=t[e]})),n}(a),(function(t,r){var i,a,s,u=t.split("|")[0],l=e>0&&n.value&&(null===(i=r.groups)||void 0===i?void 0:i.SecureCore),f=l?zl(zl({},r),{groups:zl(zl({},r.groups),{SecureCore:zl(zl({},l),{name:((null===(s=null===(a=null==l?void 0:l.logicals)||void 0===a?void 0:a[0])||void 0===s?void 0:s.EntryCountry)?"".concat(fu("top-small")," ").concat(ru(l.logicals[0].ExitCountry)):"")+r.name,englishName:r.englishName})})}):r;c.push.apply(c,Wl([],Zl(ku(e,u,f,(function(t){return t.filter(o).sort((function(t,n){return da(e<t.Tier,e<n.Tier)||da(n.SearchScore,t.SearchScore)||da(t.Name,n.Name)}))}),e>0&&n.value,!1,!0).filter(Boolean)),!1))}));var s=c.length;return 0===s?"":(r?'<div class="servers-group group-section">'.concat(r(s),"</div>"):"")+c.join("")},Jl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Kl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Xl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ql=function(t){var e=[];return Zr(t,(function(t,n){n.logicals&&e.push.apply(e,Xl([],Kl(n.logicals),!1)),n.groups&&e.push.apply(e,Xl([],Kl(Ql(n.groups)),!1))})),e},tf=function(t,e,n,r){void 0===r&&(r={value:!1});var o=n>0&&r.value,i=Dl(e),a=-1!==i.indexOf("tor"),c=Yl(Vl(t,i,!1,!0),n,r,o?void 0:function(t){return io("Label").plural(t,no(hl||(hl=Jl(["City"],["City"]))),"Cities")+(t>1?" ("+t+")":"")}),s=o?c&&'<div class="secure-core-search">'.concat(c,"</div>"):c;return(o||-1===e.indexOf("#")?"":function(t,e,n,r){if(void 0===r&&(r=!1),t<=0)return"";var o=r?Na.SECURE_CORE:0,i=Ql(e).filter((function(t){return(t.Features&Na.SECURE_CORE)===o&&-1!==t.Name.toLowerCase().indexOf(n.toLowerCase())}));if(!i.length)return"";if(n){var a=Dl(n);return i.sort((function(t,e){return da(Ml(a,[e.Name]),Ml(a,[t.Name]))})),bu(t,i,r,{},!0,"logicals-search")}return bu(t,i,r,{},!1,"logicals-search")}(n,t,e,o))+Mu(Vl(t,i,!0,!1),n,r,(function(t){return io("Label").plural(t,no(yl||(yl=Jl(["Country"],["Country"]))),"Countries")+(t>1?" ("+t+")":"")}))+(o?"":s+(a?function(t,e,n){void 0===n&&(n=!1);var r=Na.TOR|(e>0&&n?Na.SECURE_CORE:0);return ju(t,e,(function(t){return(t.Features&r)===r}),(function(t){return'<span class="label-icon-container">'.concat(_u,"</span>")+io("Label").plural(t,no(vl||(vl=Jl(["Country"],["Country"]))),"Countries")+(t>1?" ("+t+")":"")}),n,{subGroup:"tor"},!0)}(t,n,o):""))||'<p class="not-found">\n\t\t'.concat(io("Error").t(gl||(gl=Jl(["No results found"],["No results found"]))),"<br />\n\t\t<small>").concat(io("Error").t(ml||(ml=Jl(["Please try a different keyword"],["Please try a different keyword"]))),"</small>\n\t</p>")},ef=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},nf=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},rf=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},of=function(t,e){return io("Error").t(bl||(bl=ef(["Unlock "," in ",""],["Unlock "," in ",""])),t,e)},af=x.item("pmUser",w),cf=function(){vi(va.remove()),vi(xi()),vi(ec.remove()),vi(af.remove()),vi(No(Po.FORGET_ERROR)),setTimeout((function(){null===window||void 0===window||window.close()}),1)},sf=x.item("prevent-webrtc-leak");!function(t){t.CLEAR="clear",t.DEFAULT="default",t.DISABLED="disable_non_proxied_udp"}(Tl||(Tl={}));var uf,lf,ff,df,pf=function(t){return new Promise((function(e){chrome.privacy?t!==Tl.CLEAR?chrome.privacy.network.webRTCIPHandlingPolicy.set({value:t},(function(){chrome.privacy.network.webRTCIPHandlingPolicy.get({},(function(n){var r,o;e(("controlled_by_this_extension"===(o=null==(r=n)?void 0:r.levelOfControl)||"controllable_by_this_extension"===o?null==r?void 0:r.value:void 0)===t)}))})):chrome.privacy.network.webRTCIPHandlingPolicy.clear({},e):e(!1)}))},vf=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},hf=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},yf=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},gf=function(t,e,n,r,o){if(void 0===o&&(o=!1),o){document.querySelectorAll('[data-go-to="split-tunneling"]').forEach((function(t){var e,n=document.createElement("div");n.innerHTML=su(),null===(e=t.parentNode)||void 0===e||e.replaceChild(n,t)}))}else{n.querySelectorAll(".split-tunneling-exclusions, .split-tunneling-exclusion-add").forEach((function(t){t.style.display=e.value.length?"block":"none"})),n.querySelectorAll(".split-tunneling-exclusion-form").forEach((function(t){t.style.display=e.value.length?"none":"block"}));var i=e.value.map((function(t,e){var n=go(t.domain),r=io("Action").t(uf||(uf=yf(["Remove ",""],["Remove ",""])),n);return'<div class="flex my1">\n\t\t\t<div class="flex-1 ov-hidden"><div class="ellipsis">'.concat(n,"</div>").concat(t.withSubDomains?'<div class="fade-text small-text">'.concat(io("Label").t(lf||(lf=yf(["And all its subdomains"],["And all its subdomains"]))),"</div>"):"",'</div>\n\t\t\t<button data-st-delete="').concat(e,'" title="').concat(r,'" class="small-button delete-button">\n\t\t\t\t<svg fill="currentColor" viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>')})).join("");n.querySelectorAll(".split-tunneling-exclusions .exclusions-list").forEach((function(o){o.innerHTML=i,o.querySelectorAll("[data-st-delete]").forEach((function(o){var i=o.cloneNode(!0);o.parentNode.replaceChild(i,o),i.addEventListener("click",(function(){e.value.splice(Number(i.getAttribute("data-st-delete")),1),null==r||r(),gf(t,e,n,r),vi(t.setValue(e.value))}))}))}));var a=n.querySelector(".split-tunneling-exclusion"),c=function(){browser.tabs.query({active:!0,currentWindow:!0}).then((function(t){var n,r=(null===(n=t[0])||void 0===n?void 0:n.url)&&new URL(t[0].url).hostname;if(r){var o=r.replace(/^.*\.([^.]+\.[a-z]+)$/,"$1");e.value.every((function(t){return t.domain!==o}))?a.value=o:a.value===o&&(a.value=""),s()}}))};e.value.length||c();var s=function(){n.querySelectorAll('[data-st-action="add"]').forEach((function(t){t.disabled=!a.checkValidity()}))},u=function(){""!==a.value&&(e.value.push({domain:a.value,withSubDomains:l.checked}),null==r||r()),a.value="",l.checked=!0,gf(t,e,n,r),vi(t.setValue(e.value))};a.oninput=s,a.onchange=s,a.onkeyup=function(t){"Enter"!==t.key&&13!==t.keyCode||u()};var l=n.querySelector(".with-subdomains");n.querySelectorAll("[data-st-action]").forEach((function(t){var r=t.getAttribute("data-st-action"),o=t.cloneNode(!0);t.parentNode.replaceChild(o,t),o.addEventListener("click",(function(){switch(r){case"add-website":n.querySelectorAll(".split-tunneling-exclusion-add").forEach((function(t){t.style.display="none"})),n.querySelectorAll(".split-tunneling-exclusion-form").forEach((function(t){t.style.display="block"})),c();break;case"add":u();break;case"cancel":a.value="",l.checked=!0,e.value.length||(n.querySelectorAll(".split-tunneling-exclusion-add").forEach((function(t){t.style.display="block"})),n.querySelectorAll(".split-tunneling-exclusion-form").forEach((function(t){t.style.display="none"})))}}))}))}},mf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},bf=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},wf=function(t,e){if(t<1)return[];var n=[];return e.forEach((function(t){n.push.apply(n,bf([t.domain],mf(t.withSubDomains?["."+t.domain]:[]),!1))})),n},_f=x.item("split-tunneling"),xf=x.item("notifications-enabled"),Sf=(ff=function(t,e){return ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},ff(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}ff(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ef=function(t){function e(e,n,r){void 0===n&&(n=86300),void 0===r&&(r={Type:"DeviceLimit"});var o=t.call(this,e)||this;return Object.defineProperty(o,"Code",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"Details",{enumerable:!0,configurable:!0,writable:!0,value:r}),o.Details.Body||(o.Details.Body=e),o}return Sf(e,t),e}(Error),Cf=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},kf=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},Of=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Tf=function(t){return"string"==typeof t&&""!==t},Pf=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=t.split("#",2),o=r[1]||"",i=r[0].split("?",2),a=i[1]||"";return Object.keys(e).forEach((function(t){var n=e[t];("number"==typeof n||Tf(n))&&(a+=(""===a?"":"&")+encodeURIComponent(t)+"="+encodeURIComponent(n))})),Object.keys(n).forEach((function(t){var n=e[t];("number"==typeof n||Tf(n))&&(o+=(""===a?"":"&")+encodeURIComponent(t)+"="+encodeURIComponent(n))})),i[0]+(""===a?"":"?"+a)+(""===o?"":"#"+o)},Af=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Lf=function(){return Lf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Lf.apply(this,arguments)},Nf=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,c)}s((r=r.apply(t,e||[])).next())}))},If=function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=e.call(t,a)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},jf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Mf=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Df={connected:!1,restarted:!1};!function(t){if(Io())throw new Error(t+" is popup only")}("popup");var Rf,Uf,$f,qf,Hf,Bf,Gf,Ff,Vf,zf,Zf,Wf,Yf,Jf,Kf,Xf,Qf,td,ed,nd,rd,od,id,ad=function(){return Nf(void 0,void 0,void 0,(function(){var t,e,r,o,i,a,u,l,f,d,p,v,h,y,g,m,b,w,_,S,E,C,k,O,T,P,A,L,N,I,j,M,D,R,U,$,q,H,B,G,F,V,z,Z,W,Y,J,K,X,Q,tt,et,nt,rt,ot,it,at,ct,st,ut,lt,ft,dt,pt,vt,ht,yt,gt,mt,bt,wt,_t,xt,St,Et,Ct;return If(this,(function(kt){switch(kt.label){case 0:return[4,Wr(void 0,void 0,void 0,(function(){var t,e;return Yr(this,(function(n){switch(n.label){case 0:if("en_US"===(t=vo()))return so(t,{}),[2];n.label=1;case 1:return n.trys.push([1,3,,8]),[4,uo(t)];case 2:return n.sent(),[3,8];case 3:if(n.sent(),(e=po(t.split("_")[0]||""))===t)return so(t,{}),[2];n.label=4;case 4:return n.trys.push([4,6,,7]),[4,uo(e)];case 5:return n.sent(),[3,7];case 6:return n.sent(),so("en_US",{}),[3,7];case 7:return[3,8];case 8:return[2]}}))}))];case 1:return kt.sent(),t=document.getElementById("spinner"),e=document.getElementById("logged-view"),chrome.proxy?[4,new Promise((function(n){chrome.permissions.contains(ts,(function(r){r||vs(document.getElementById("sign-in-view"),e,t,!1),n(r)}))}))]:(vs(document.getElementById("sign-in-view"),e,t,!1),[2]);case 2:return r=kt.sent(),Zr({".secure-core-action-block":!1,".secure-core-container":!0,".split-tunneling-action-block":!1,".auto-connect-action-block":!1},(function(t,e){e&&(Pt||document).querySelectorAll(t).forEach((function(t){t.style.display="none"}))})),o="dark",i=function(t){var e=["dark","light","auto"];e.forEach((function(e){document.querySelectorAll('[name="theme"][value="'+e+'"]').forEach((function(n){n.checked=e===t}))})),document.body.classList.contains(t+"-theme")||e.forEach((function(e){document.body.classList[e===t?"add":"remove"](e+"-theme")}))},(a=x.item("theme")).get().then((function(t){o=(null==t?void 0:t.value)||o,i(o)})),[4,wi()];case 3:if((u=kt.sent()).uid&&u.refreshToken)return[3,7];kt.label=4;case 4:return kt.trys.push([4,6,,7]),[4,zs(u)];case 5:return kt.sent()?[3,7]:[2];case 6:return l=kt.sent(),zo(l),[3,7];case 7:f=document.getElementById("modal-error"),null===(St=f.querySelector(".close-button"))||void 0===St||St.addEventListener("click",(function(){var n=f.getAttribute("data-error-id"),o=Number(f.getAttribute("data-error-restart-on-close"));n&&vi(x.setItem("closed-"+n,{value:1})),f.style.display="none",o&&vs(document.getElementById("sign-in-view"),e,t,r)})),d=document.querySelector(".error-slot"),p=void 0,v=function(t,e){p={name:t,content:e};var n=document.querySelector('[data-page="region"] .page-title .name'),r=document.querySelector('[data-page="region"] .region-content');n&&(n.innerHTML=t),r&&e&&(r.innerHTML=e,E(r),Vu(r),ot(r))},h=function(t,e){p&&dt.push(p),v(t,e),pt("region")},y=function(t,e){t.addEventListener("click",e),t.addEventListener("keydown",(function(n){t!==document.activeElement||"Enter"!==n.key&&" "!==n.key||e(n)}))},g=function(t){if(!t.getAttribute("aria-label")&&!t.getAttribute("title")){var e=t.innerText.trim();t.setAttribute("title",io("Action").t(Rf||(Rf=Af([""," (New tab)"],[""," (New tab)"])),e))}},m=function(t,e,n){return void 0===n&&(n=!1),e.filter((function(e){return!(e.Features&((n?0:Na.TOR)|Na.RESTRICTED|Na.PARTNER))&&(e.Features&Na.SECURE_CORE)===(t>0&&(null==j?void 0:j.value)?Na.SECURE_CORE:0)}))},b=function(t){var e=t.getAttribute("data-id");if(e)return{getLogical:function(){return ac(e)},choice:{logicalId:e}};var n=t.getAttribute("data-exitCountry")||"";if(n){var r=Xs(B[n]),o=t.getAttribute("data-subGroup")||"";if(o)switch(o.toLowerCase()){case"other":return{getLogical:function(){return Qs(m(G,r.filter((function(t){return!(t.Features&Na.TOR)&&!t.City&&t.Tier>0}))),G,C)},choice:{exitCountry:n,filter:"other"}};case"tor":return{getLogical:function(){return Qs(m(G,r.filter((function(t){return t.Features&Na.TOR})),!0),G,C)},choice:{exitCountry:n,requiredFeatures:Na.TOR}};case"free":return{getLogical:function(){return Qs(m(G,r.filter((function(t){return t.Tier<1}))),G,C)},choice:{exitCountry:n,tier:0}};default:return{getLogical:function(){return Qs(m(G,r.filter((function(t){return t.City===o}))),G,C)},choice:{exitCountry:n,city:o}}}var i=t.getAttribute("data-entryCountry")||"";return i?{getLogical:function(){return Qs(m(G,r.filter((function(t){return t.EntryCountry===i}))),G,C)},choice:{exitCountry:n,entryCountry:i}}:{getLogical:function(){return Qs(m(G,r),G,C)},choice:{exitCountry:n}}}return{getLogical:function(){return null},choice:{}}},w=null,_=function(){return Nf(void 0,void 0,void 0,(function(){var t;return If(this,(function(e){switch(e.label){case 0:return w?[2,w.user]:[4,Gi(uc(Ao.PM_USER),ti.fromSeconds(30),"User loading timed out",Ef)];case 1:return t=e.sent(),w={user:t},[2,t]}}))}))},S=function(t){return Nf(void 0,void 0,void 0,(function(){var e;return If(this,(function(n){switch(n.label){case 0:return[4,_()];case 1:return e=n.sent(),[2,Pf(t,{email:null==e?void 0:e.Email,plan:(null==k?void 0:k.Subscribed)?"":"vpn2024"})]}}))}))},E=function(t){(t||document).querySelectorAll(".expand-button").forEach((function(e){for(var n,r,o=e.parentNode,i=t||document.body;o!==i&&!(null===(n=null==o?void 0:o.classList)||void 0===n?void 0:n.contains("country-header"))&&!(null===(r=null==o?void 0:o.classList)||void 0===r?void 0:r.contains("server-type"));)o=o.parentNode;o!==i&&(e.addEventListener("mouseover",(function(){o.classList.add("hover")})),e.addEventListener("mouseout",(function(){o.classList.remove("hover")}))),y(e,(function(t){return Nf(void 0,void 0,void 0,(function(){var n,r,o,i,a;return If(this,(function(c){return t.stopPropagation(),null===(i=t.stopImmediatePropagation)||void 0===i||i.call(t),t.preventDefault(),n=e.getAttribute("data-expand"),r=b(e).choice,o="".concat(r.exitCountry),h('\n\t\t\t\t\t\t<div class="country-flag">\n\t\t\t\t\t\t\t'.concat((null==j?void 0:j.value)?fu():"","\n\t\t\t\t\t\t\t").concat(ru(o),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="country-name" data-country-code="').concat(o,'">\n\t\t\t\t\t\t\t').concat(e.getAttribute("data-subGroupName")||yo(o),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),n&&(null===(a=document.getElementById(n))||void 0===a?void 0:a.innerHTML)||""),[2]}))}))}))}));var e=function(t,e){!function(t,e,n){vi(Mc(e,n)),Bi(1).then((function(){t.close()}))}(window,t),e&&cf()},n=function(t,n){return Nf(void 0,void 0,void 0,(function(){var o,i,a,c,s,u,l,f,d,p,v;return If(this,(function(h){switch(h.label){case 0:return y=n.dataset,o=fo("hashSeed",y),i=!(!n.classList.contains("upgrade-button")&&!Number(n.getAttribute("data-forget-account"))),[4,r(o)];case 1:return a=h.sent(),c=t+(a?"#"+a:""),Number(n.getAttribute("data-direct-upgrade"))?(s=e,[4,S(c)]):[3,3];case 2:return s.apply(void 0,[h.sent(),i]),[2];case 3:return Number(n.getAttribute("data-upgrade"))?(pt("upgrade"),(u=document.querySelector('[data-page="upgrade"]'))?(u.querySelectorAll(".open-upgrade-page").forEach((function(t){t.setAttribute("data-href",c),t.setAttribute("data-direct-upgrade","1")})),E(u),[4,S(c)]):[3,6]):[3,7];case 4:return l=h.sent(),u.querySelectorAll(".open-upgrade-page").forEach((function(t){t.setAttribute("data-href",l),t.removeAttribute("data-direct-upgrade")})),E(u),[4,mc()];case 5:f=h.sent(),d=f.Servers,p=f.Countries,v=100*Math.floor(d/100),u.querySelectorAll(".access-sentence").forEach((function(t){t.innerText=function(t,e){return io("Error").t(wl||(wl=ef(["Access over "," in ",""],["Access over "," in ",""])),t,e)}(io("Error").plural(v,no(Uf||(Uf=Af([""," secure server"],[""," secure server"])),v),"".concat(v," secure servers")),io("Error").plural(p,no($f||($f=Af([""," country"],[""," country"])),p),"".concat(p," countries")))})),h.label=6;case 6:return[2];case 7:return e(c,i),[2]}var y}))}))};(t||document.getElementById("servers")||document).querySelectorAll(".open-upgrade-page, button:not(.close-button), .connect-clickable, .server:not(.in-maintenance)").forEach((function(t){y(t,(function(e){return Nf(void 0,void 0,void 0,(function(){var r,o,i,a,c,s;return If(this,(function(u){switch(u.label){case 0:if(e.stopPropagation(),null===(s=e.stopImmediatePropagation)||void 0===s||s.call(e),e.preventDefault(),r=t.getAttribute("data-href"))return vi(n(r,t)),[2];if(o=b(t),i=o.getLogical,a=o.choice,!(c=null==i?void 0:i()))throw new Error("Missconfigured server. Cannot find the selected logical.");return Il(Fs.CONNECTION,Gs.VPN_CONNECTION,{},c),J(Lf({connected:!0},a)),pt("world"),[4,lt(c)];case 1:return u.sent(),[2]}}))}))}))}));var r=function(t){return Nf(void 0,void 0,void 0,(function(){var e;return If(this,(function(n){switch(n.label){case 0:return t.length?(e=function(t,e){return Nf(void 0,void 0,void 0,(function(){var n,r;return If(this,(function(o){switch(o.label){case 0:return[4,_()];case 1:return[2,(n=null===(r=o.sent())||void 0===r?void 0:r[e])?t+"="+encodeURIComponent(n):""]}}))}))},[4,Promise.all(t.map((function(t){return Nf(void 0,void 0,void 0,(function(){return If(this,(function(n){switch(n.label){case 0:switch(t){case"platform":return[3,1];case"clientVersion":return[3,2];case"username":return[3,3];case"email":return[3,5]}return[3,7];case 1:return[2,t+"="+encodeURIComponent("VPN for ".concat(lc().name))];case 2:return[2,t+"="+encodeURIComponent(Yi()+"+"+lc().type)];case 3:return[4,e(t,"Name")];case 4:case 6:return[2,n.sent()];case 5:return[4,e(t,"Email")];case 7:return zo("Unknown key "+t),[2,""]}}))}))})))]):[2,""];case 1:return[2,n.sent().filter(Boolean).join("&")]}}))}))};Zr({"a[href]":"href","[data-href]":"data-href"},(function(e,r){(t||document).querySelectorAll(e).forEach((function(t){g(t),t.addEventListener("click",(function(e){var o,i=t.getAttribute(r);if(i){var a=(o=t.dataset,fo("localeSupport",o)),c="".concat(lo()||"en").split(/[_-]/)[0]||"en",s=-1!==a.indexOf(c)?i.replace(/^(https:\/\/protonvpn\.com\/)/,"$1"+c+"/"):i;e.preventDefault(),e.stopPropagation(),n(s,t)}}))}))}))},C=function(n){fi(n);var o=null==n?void 0:n._id;Nf(void 0,void 0,void 0,(function(){var t,e,r,i,a,c;return If(this,(function(s){switch(s.label){case 0:return e=(t=Object).assign,r=[{blockingError:"",error:"",restartOnClose:!1}],(i=n)?(a=o)?[4,x.getItem("closed-"+o)]:[3,2]:[3,3];case 1:a=null===(c=s.sent())||void 0===c?void 0:c.value,s.label=2;case 2:i=!a,s.label=3;case 3:return[2,e.apply(t,r.concat([i?Ko(n):{}]))]}}))})).then((function(n){var i=n.blockingError,a=n.error,c=n.restartOnClose;f.setAttribute("data-error-restart-on-close",c?"1":"0"),f.style.display=i?"flex":"none",o&&f.setAttribute("data-error-id",o),f.querySelector(".modal-error-slot").innerHTML=i,d.innerHTML=a,d.querySelectorAll(".close-button").forEach((function(n){n.addEventListener("click",(function(){var i;o&&vi(x.setItem("closed-"+o,{value:1}));var a=n.parentNode;null===(i=a.parentNode)||void 0===i||i.removeChild(a),c&&vs(document.getElementById("sign-in-view"),e,t,r)}))})),E(d),E(f)}))},kt.label=8;case 8:return kt.trys.push([8,10,,13]),[4,kf(void 0,void 0,void 0,(function(){var t;return Of(this,(function(e){switch(e.label){case 0:return[4,Gi(uc(Ao.USER),ti.fromSeconds(30),"User info loading timed out",Ef)];case 1:if(!(t=e.sent()))throw new Ef(io("Error").t(df||(df=Cf(["Unable to login"],["Unable to login"]))));return[2,t]}}))}))];case 9:return k=kt.sent(),[3,13];case 10:return(O=kt.sent())instanceof ki||O.logout||!Df.restarted&&ia(O)?(Df.restarted=!0,[4,Ci({})]):[3,12];case 11:return kt.sent(),vi(ad()),[2];case 12:return t&&(t.style.display="none"),e&&(e.style.display="block"),C(O),k=void 0,[3,13];case 13:return k?(T=x.item("secure-core"),P=x.item("auto-connect"),A=[],[4,Promise.all([ic(),Ya(u.uid),T.getDefined({value:!1}),xf.getDefined({value:!0}),P.getDefined({value:!0}),sf.getDefined({value:!0}),Al(),Ll(),ai(),_f.getDefined({value:[]})])]):[2];case 14:return L=jf.apply(void 0,[kt.sent(),10]),N=L[0],I=L[1],j=L[2],M=L[3],D=L[4],R=L[5],U=L[6],$=L[7],q=L[8],H=L[9],A=N,U||document.querySelectorAll(".telemetry-block").forEach((function(t){t.style.display="none"})),Za(A,I),window.addEventListener("languagechange",(function(){return Nf(void 0,void 0,void 0,(function(){var t,e;return If(this,(function(n){switch(n.label){case 0:return e=Ya,[4,wi()];case 1:return[4,e.apply(void 0,[n.sent().uid])];case 2:return t=n.sent(),Za(A,t),Zr(B,(function(t,e){e.name=yo(t)})),document.querySelectorAll(".city-name").forEach((function(e){var n=e.getAttribute("data-english-city-name"),r=e.getAttribute("data-country-code");n&&r&&(e.innerHTML=go((t[r]||{})[n]||n))})),document.querySelectorAll(".country-name").forEach((function(t){var e="".concat(t.getAttribute("data-country-code"));t.innerHTML=go(yo(e))})),[2]}}))}))})),B={},G=xa(k),F=(null===(Et=null==k?void 0:k.VPN)||void 0===Et?void 0:Et.BrowserExtension)||!1,V=!F,[4,Nf(void 0,void 0,void 0,(function(){var t;return If(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Gi(uc(Ao.STATE),ti.fromSeconds(5),"Unable to load state")];case 1:return[2,e.sent()];case 2:return t=e.sent(),zo(t,(new Error).stack),[2,{error:t}];case 3:return[2]}}))}))];case 15:return z=kt.sent(),Df.connected=!!(null==z?void 0:z.server),(V?(Ot=(null===(Ct=null==k?void 0:k.VPN)||void 0===Ct?void 0:Ct.BrowserExtensionPlan)||"VPN Plus",void 0===Tt&&(Tt=86151),nf(void 0,void 0,void 0,(function(){var t,e,n;return rf(this,(function(r){switch(r.label){case 0:return[4,mc()];case 1:return t=r.sent(),e=t.Servers,n=t.Countries,[2,{httpStatus:403,Code:Tt,Error:io("Error").t(_l||(_l=ef(["Connect from your browser with ",""],["Connect from your browser with ",""])),Ot),Details:{Type:"DeviceLimit",Title:io("Error").t(xl||(xl=ef(["Connect from your browser with ",""],["Connect from your browser with ",""])),Ot),Body:[{Component:"Feature",Icon:"world",Text:of(io("Error").plural(e,no(Sl||(Sl=ef(["","+ secure server"],["","+ secure server"])),e),"".concat(e,"+ secure servers")),io("Error").plural(n,no(El||(El=ef([""," country"],[""," country"])),n),"".concat(n," countries")))},{Component:"Feature",Icon:"play",Text:io("Error").t(Cl||(Cl=ef(["Unlock global streaming services"],["Unlock global streaming services"])))},{Component:"Feature",Icon:"incognito",Text:io("Error").t(kl||(kl=ef(["Bypass online censorship with advanced security and privacy features"],["Bypass online censorship with advanced security and privacy features"])))}],Actions:[{Code:"Upgrade",Name:io("Action").t(Ol||(Ol=ef(["Upgrade"],["Upgrade"]))),Category:"main_action",URL:"/vpn/dashboard"}]}}]}}))}))):new Promise((function(t){t(z.error)}))).then((function(t){C(t)})),Z={},A.forEach((function(t){var e;if(!(G>=2&&0===t.Tier)){var n=t.ExitCountry;t.Tier<=0&&(Z[n]=!0),t.EntryCountryName=ho(t.EntryCountry,"en"),t.Translations||(t.Translations={}),t.Translations.EntryCountryName=ho(t.EntryCountry);var r,o=t.Features&Na.SECURE_CORE,i=o?"secureCore":t.City?"city":t.Features&Na.TOR?"tor":t.Tier<1?"free":"other",a=!o&&t.City||("string"==typeof(r=i)&&r.length>=1?r.substring(0,1).toUpperCase()+r.substring(1):r),c=o?io("Info").t(qf||(qf=Af(["Secure Core"],["Secure Core"]))):(null===(e=t.Translations)||void 0===e?void 0:e.City)||t.City||{tor:"TOR",free:io("Label").t(Hf||(Hf=Af(["Free"],["Free"])))}[i]||io("Label").t(Bf||(Bf=Af(["Other"],["Other"]))),s=B[n]||(B[n]={englishName:yo(n,"en"),name:yo(n),needUpgrade:!0,groups:{}});s.groups||(s.groups={}),s.needUpgrade=s.needUpgrade&&G<t.Tier;var u=s.groups[a]||(s.groups[a]={type:i,englishName:a,name:c,needUpgrade:!0,logicals:[]});u.needUpgrade=u.needUpgrade&&G<t.Tier,u.logicals||(u.logicals=[]),u.logicals.push(t)}})),W=document.querySelector("#servers"),r?(t&&(t.style.display="none"),e&&(e.style.display="block"),W.classList[V?"add":"remove"]("not-allowed-by-plan"),(Y=function(){W.innerHTML=Mu(B,G,j),Vu()})(),J=function(t){var e,n={excludedFeatures:0,requiredFeatures:0},r=((e={})[Na.SECURE_CORE]=null==j?void 0:j.value,e);Zr(r,(function(t,e){var r=e?"requiredFeatures":"excludedFeatures";n[r]=n[r]|Number(t)})),Zr(n,(function(t,e){e||delete n[t]})),al(Lf(Lf({},n),t))},K=document.querySelector("#status .connection-status"),X=document.querySelector("button.sign-out-button"),Q=document.querySelector("button.switch-account-button"),tt=document.getElementById("menu"),et=document.querySelector(".quick-connect-button"),(nt=document.querySelector("#status button.disconnection-button")).innerHTML=io("Action").t(Gf||(Gf=Af(["Disconnect"],["Disconnect"]))),rt=function(t){return void 0===t&&(t=ko.DISCONNECT),Nf(void 0,void 0,void 0,(function(){var e,n;return If(this,(function(r){switch(r.label){case 0:return e=null==z?void 0:z.server,n=(null==e?void 0:e.id)?ac(e.id):void 0,Df.connected=!1,st(),J({connected:!1}),Il(Fs.CONNECTION,Gs.VPN_DISCONNECTION,Lf({},e?Lf({vpn_country:e.exitCountry,server:e.name},n?{server_features:Nl(n.Tier,n.Features)}:{}):{})),[4,No(t)];case 1:return r.sent(),[2]}}))}))},nt.addEventListener("click",(function(){return Nf(void 0,void 0,void 0,(function(){return If(this,(function(t){switch(t.label){case 0:return[4,rt()];case 1:return t.sent(),[2]}}))}))})),ot=function(t,e){var n,r,o;void 0===e&&(e=Df.connected);var i=null===(n=null==z?void 0:z.server)||void 0===n?void 0:n.exitCountry,a=null===(r=null==z?void 0:z.server)||void 0===r?void 0:r.exitEnglishCity,c=null===(o=null==z?void 0:z.server)||void 0===o?void 0:o.id;(t||document).querySelectorAll(".country-name").forEach((function(t){var n=t.getAttribute("data-country-code");t.classList[e&&n&&n===i?"add":"remove"]("connected-list-item")})),(t||document).querySelectorAll(".group-button").forEach((function(t){var n=t.getAttribute("data-subGroup"),r=t.getAttribute("data-exitCountry"),o=e&&n&&r&&n===a&&r===i;t.querySelectorAll(".group-name").forEach((function(t){t.classList[o?"add":"remove"]("connected-list-item")}))})),(t||document).querySelectorAll(".server-name").forEach((function(t){t.classList[e&&c&&t.getAttribute("data-server-id")===c?"add":"remove"]("connected-list-item")}))},it=G<=0,at=0,ct=void 0,st=function(t,e){void 0===e&&(e=!1),t||(t=null==z?void 0:z.server);var n=(null==t?void 0:t.exitCountry)||"",r=(null==t?void 0:t.entryCountry)||"",o=!(!r||r===n),i=((null==t?void 0:t.exitCity)||"")+" "+((null==t?void 0:t.name)||"").replace(new RegExp("^"+n+"#"),"#"),a=(null==t?void 0:t.exitIp)||"",c=Df.connected||e;if(nt.style.display=c?"block":"none",et.style.display=c?"none":"block",document.querySelectorAll(".quick-connect-button-incentive").forEach((function(t){t.style.display=c?"none":"block"})),nl(c?"protected":"unprotected"),ot(W,Df.connected&&!e),e)return at=Date.now(),ct=setInterval((function(){No(ko.CONNECTING,{connectionAttemptTime:at})}),500),nt.classList.remove("danger-hover"),nt.innerHTML=io("Action").t(Ff||(Ff=Af(["Cancel"],["Cancel"]))),K.classList.remove("success","danger"),void(K.innerHTML='\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n\t\t\t\t\t<div id="connecting-label" class="protection-status">'.concat(io("Info").t(Vf||(Vf=Af(["Connecting..."],["Connecting..."]))),'</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="current-server-flag">').concat(ru(n),'</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="current-server-country">').concat(yo(n),'</div>\n\t\t\t\t\t\t<div class="current-server-name">').concat(i,'</div>\n\t\t\t\t\t\t<div class="exit-ip">').concat(a,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"));at=0,ct&&clearInterval(ct),nt.innerHTML=io("Action").t(zf||(zf=Af(["Disconnect"],["Disconnect"]))),nt.classList.add("danger-hover"),K.classList.remove(Df.connected?"danger":"success"),K.classList.add(Df.connected?"success":"danger");var s,u=["US","NL","JP"],l=Mf(Mf([],jf(u.filter((function(t){return Z[t]}))),!1),jf(Object.keys(Z).filter((function(t){return-1===u.indexOf(t)}))),!1),f=function(t){return t.map((function(e,n){return'\n\t\t\t\t<span class="country-in-group'.concat(e!==t[0]?" folded":"",'" style="z-index: ').concat(3-n,'">').concat(ru(e),"</span>")})).join("")};K.innerHTML=Df.connected?'\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<svg role="img" focusable="false" aria-hidden="true" class="protection-icon medium-icon" viewBox="0 0 24 24">\n\t\t\t\t\t\t<path fill-rule="evenodd" d="M7.8 7.5h-.3a4.5 4.5 0 0 1 9 0H7.8ZM6 7.529V7.5a6 6 0 1 1 12 0v.029c.588.036 1.006.116 1.362.298a3 3 0 0 1 1.311 1.311C21 9.78 21 10.62 21 12.3v5.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327H7.8c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C3 20.22 3 19.38 3 17.7v-5.4c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311c.356-.182.774-.262 1.362-.298Zm6.706 7.295a1.5 1.5 0 1 0-1.412 0l-.654 2.617a.45.45 0 0 0 .436.559h1.848a.45.45 0 0 0 .436-.56l-.654-2.616Z" clip-rule="evenodd"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div id="protected-label" class="protection-status">'.concat(io("Label").t(Zf||(Zf=Af(["Protected"],["Protected"]))),'</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="current-server-flag ').concat(o?" wide":"",'">').concat((o?"".concat(ru(r)," &nbsp;").concat(fu(),"&nbsp;"):"")+ru(n),'</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="current-server-country">').concat(yo(n),'</div>\n\t\t\t\t\t\t<div class="current-server-name">').concat(i,'</div>\n\t\t\t\t\t\t<div class="exit-ip">').concat(a,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"):'\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<svg role="img" focusable="false" aria-hidden="true" class="protection-icon medium-icon" viewBox="0 0 24 24">\n\t\t\t\t\t\t<path fill-rule="evenodd" d="M6 1.5a6 6 0 0 1 6 6h7.2c1.68 0 2.52 0 3.162.327a3 3 0 0 1 1.311 1.311C24 9.78 24 10.62 24 12.3v5.4c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-8.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311C6 20.22 6 19.38 6 17.7v-5.4c0-1.68 0-2.52.327-3.162a3 3 0 0 1 1.311-1.311c.602-.307 1.38-.326 2.862-.327a4.5 4.5 0 0 0-9 0 .75.75 0 0 1-1.5 0 6 6 0 0 1 6-6Zm8.294 13.324a1.5 1.5 0 1 1 1.412 0l.654 2.617a.45.45 0 0 1-.436.559h-1.848a.45.45 0 0 1-.436-.56l.654-2.616Z" clip-rule="evenodd"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div id="unprotected-label" class="protection-status">'.concat(io("Label").t(Wf||(Wf=Af(["Unprotected"],["Unprotected"]))),"</div>\n\t\t\t\t\t").concat("","\n\t\t\t\t\t").concat(it&&F?'\n\t\t\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t\t\t<div class="lightning">\n\t\t\t\t\t\t\t\t<svg class="lightning-symbol" viewBox="0 0 10 14">\n\t\t\t\t\t\t\t\t\t<path d="M2.67277 12.9704C2.61521 13.1815 2.71131 13.4043 2.90433 13.5073C3.09735 13.6103 3.33595 13.5661 3.47924 13.4008L9.57299 6.36952C9.69318 6.23083 9.72139 6.03476 9.64516 5.86782C9.56892 5.70087 9.40228 5.59377 9.21876 5.59377H6.08247L7.32724 1.02961C7.38481 0.818537 7.2887 0.595714 7.09568 0.492717C6.90266 0.389719 6.66407 0.433943 6.52078 0.599274L0.427027 7.63052C0.306832 7.76921 0.278627 7.96529 0.354858 8.13223C0.431089 8.29917 0.597732 8.40627 0.781257 8.40627H3.91755L2.67277 12.9704Z" />\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="fastest-server">\n\t\t\t\t\t\t\t\t<div class="current-server-country incentive">'.concat(io("Info").t(Yf||(Yf=Af(["Fastest free server"],["Fastest free server"]))),'</div>\n\t\t\t\t\t\t\t\t<div class="current-server-name">\n\t\t\t\t\t\t\t\t\t<span class="auto-select-label">').concat(io("Info").t(Jf||(Jf=Af(["Auto-selected from"],["Auto-selected from"]))),"</span>\n\t\t\t\t\t\t\t\t\t").concat(l.length<=3?f(l):f(l.slice(0,3))+" +"+(l.length-3),"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"):"","\n\t\t\t\t</div>\n\t\t\t"),vi((void 0===(s=!0)&&(s=!1),Zs(void 0,void 0,void 0,(function(){var t,e,n,r,o;return Ws(this,(function(i){switch(i.label){case 0:return 0===(t=document.querySelectorAll(".public-ip")).length?[2]:s?[4,ja()]:[3,2];case 1:return n=i.sent(),[3,4];case 2:return[4,Ia()];case 3:n=null===(o=i.sent())||void 0===o?void 0:o.location,i.label=4;case 4:return(r=null==(e=n)?void 0:e.IP)?(t.forEach((function(t){t.innerText!==r&&(t.innerHTML=go(r))})),[2]):[2]}}))}))))},vi(tl()),uc(Ao.PM_USER).then((function(t){w={user:t};var e=go(t.DisplayName||t.Name||t.Email||"");document.querySelectorAll(".pm-user-name").forEach((function(t){t.innerHTML=e}))})),ut=go(k.VPN.PlanTitle||io("Label").t(Kf||(Kf=Af(["Free"],["Free"])))),document.querySelectorAll(".pm-plan").forEach((function(t){t.innerHTML=ut})),document.querySelectorAll("[data-open-account-page]").forEach((function(t){g(t),t.addEventListener("click",(function(){return Nf(void 0,void 0,void 0,(function(){var e,n;return If(this,(function(r){switch(r.label){case 0:return e=c+t.getAttribute("data-open-account-page"),n=Mc,[4,S(e)];case 1:return[4,n.apply(void 0,[r.sent()])];case 2:return r.sent(),cf(),[2]}}))}))}))})),document.querySelectorAll(".theme-choice input").forEach((function(t){t.addEventListener("change",(function(){return Nf(void 0,void 0,void 0,(function(){var e;return If(this,(function(n){switch(n.label){case 0:return t.checked?(e=t.value,i(e),[4,a.set({value:e})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}))})),lt=function(t){return Nf(void 0,void 0,void 0,(function(){var e,n,r,o;return If(this,(function(i){switch(i.label){case 0:if(e=function(t){var e=((null==t?void 0:t.Servers)||[]).filter(Ka);return e[Math.floor(Math.random()*e.length)]}(t),!e)throw new Error("Missconfigured server. Cannot find an entry for this server.");i.label=1;case 1:return i.trys.push([1,3,,4]),n=!Df.connected,Df.connected=!0,st({id:t.ID,name:t.Name,exitIp:e.ExitIP,entryCountry:t.EntryCountry,exitCountry:t.ExitCountry,exitCity:(null===(o=t.Translations)||void 0===o?void 0:o.City)||t.City,exitEnglishCity:t.City,secureCore:!!(t.Features&Na.SECURE_CORE)},n),[4,No(ko.CONNECT,{server:e,logical:t,user:k,bypassList:wf(xa(k),H.value)})];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),C(r),[3,4];case 4:return[2]}}))}))},ft=function(t){return Nf(void 0,void 0,void 0,(function(){var e,n;return If(this,(function(r){switch(r.label){case 0:return Df.connected&&(e=document.querySelector(".main-area"))?((n=document.createElement("div")).classList.add("confirm-modal"),n.innerHTML="<div>\n\t\t\t\t\t".concat(io("Confirm").t(Xf||(Xf=Af(["Logging out of the application will disconnect the active VPN connection. Do you want to continue?"],["Logging out of the application will disconnect the active VPN connection. Do you want to continue?"]))),'\n\t\t\t\t\t<div class="user-buttons-bar">\n\t\t\t\t\t\t<button data-st-action="cancel" class="tertiary-button" data-trans data-context="Action">Cancel</button>\n\t\t\t\t\t\t<button data-st-action="ok" class="primary-button" data-trans data-context="Action">OK</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'),e.appendChild(n),n.querySelectorAll('[data-st-action="cancel"]').forEach((function(t){t.addEventListener("click",(function(){e.removeChild(n)}))})),n.querySelectorAll('[data-st-action="ok"]').forEach((function(r){r.addEventListener("click",(function(){return Nf(void 0,void 0,void 0,(function(){var r;return If(this,(function(o){switch(o.label){case 0:n.querySelectorAll("[data-st-action]").forEach((function(t){t.disabled=!0})),o.label=1;case 1:return o.trys.push([1,3,4,6]),[4,rt(t)];case 2:return o.sent(),[3,6];case 3:return r=o.sent(),zo(r),[3,6];case 4:return[4,Bi(1)];case 5:return o.sent(),window.close(),e.removeChild(n),[7];case 6:return[2]}}))}))}))})),[2]):[4,rt(t)];case 1:return r.sent(),[4,Bi(1)];case 2:return r.sent(),window.close(),[2]}}))}))},Q.style.display="flex",Q.title=io("Action").t(Qf||(Qf=Af(["Switch account"],["Switch account"]))),Q.addEventListener("click",(function(){return Nf(void 0,void 0,void 0,(function(){return If(this,(function(t){switch(t.label){case 0:return[4,ft(ko.SWITCH_ACCOUNT)];case 1:return t.sent(),[2]}}))}))})),X.style.display="flex",X.title=io("Action").t(td||(td=Af(["Sign out"],["Sign out"]))),X.addEventListener("click",(function(){return Nf(void 0,void 0,void 0,(function(){return If(this,(function(t){switch(t.label){case 0:return[4,ft(ko.SIGN_OUT)];case 1:return t.sent(),[2]}}))}))})),tt.style.display="block",et.innerHTML=V?io("Action").t(ed||(ed=Af(["Upgrade"],["Upgrade"]))):it?io("Action").t(nd||(nd=Af(["Connect"],["Connect"]))):io("Action").t(rd||(rd=Af(["Quick connect"],["Quick connect"]))),et.addEventListener("click",(function(){return Nf(void 0,void 0,void 0,(function(){var t,e,n,r,o,i;return If(this,(function(a){switch(a.label){case 0:return V?(t=Mc,e=Pf,n=[s],o={},[4,_()]):[3,3];case 1:return[4,t.apply(void 0,[e.apply(void 0,n.concat([(o.email=null===(i=a.sent())||void 0===i?void 0:i.Email,o)]))])];case 2:return a.sent(),cf(),[2];case 3:return d.innerHTML="",r=Qs(m(G,A),G,C),al({connected:!0,pick:"fastest"}),Il(Fs.CONNECTION,Gs.VPN_CONNECTION,{},r),[4,lt(r)];case 4:return a.sent(),[2]}}))}))})),document.querySelector("#status").style.display="block",st(),["aria-label","title"].forEach((function(t){document.querySelectorAll("["+t+"]").forEach((function(e){e.setAttribute(t,to(e.getAttribute("data-context")||"Info",(function(t){return jf(t,1)[0]}),[e.getAttribute(t)]))}))})),function(t){["svg > title","[data-trans]"].forEach((function(e){t.querySelectorAll(e).forEach((function(t){t.innerHTML=to(t.getAttribute("data-context")||"Info",(function(t){return Jr(t,1)[0]}),[t.innerHTML.trim().replace(/\n\t+/g,"\n")])}))}))}(document),dt=[],document.querySelectorAll('[data-page="region"] .page-title .back-button').forEach((function(t){t.addEventListener("click",(function(){var t=dt.pop();if(t){var e=t.name,n=t.content;v(e,n)}else pt("world")}))})),pt=function(t){"region"!==t&&(p=void 0,dt.length&&dt.splice(0,dt.length));var n=t&&{region:"world","split-tunneling":"features"}[t]||t;document.querySelectorAll("[data-go-to]").forEach((function(t){t.classList[t.getAttribute("data-go-to")===n?"add":"remove"]("active"),t.removeAttribute("aria-current")})),t&&document.querySelectorAll("[data-page]").forEach((function(e){e.classList[e.getAttribute("data-page")===t?"add":"remove"]("selected-page")})),document.querySelectorAll(".page-view, .page-view [data-page]").forEach((function(t){t.scrollTop=0})),e&&(e.scrollTop=0)},document.querySelectorAll("[data-go-to]").forEach((function(t){t.addEventListener("click",(function(e){var n=t.getAttribute("data-go-to");n&&(pt(n),t.classList.add("active"),t.setAttribute("aria-current","true")),e.preventDefault(),e.stopPropagation()}))})),(vt=document.querySelector(".central-view"))&&(ht=parseInt(window.getComputedStyle(vt).minWidth),yt=.8*screen.availWidth,ht>yt&&(vt.style.minWidth=Math.round(yt)+"px"),gt=parseInt(window.getComputedStyle(vt).minHeight),mt=.8*screen.availHeight,gt>mt&&(vt.style.minHeight=Math.round(mt)+"px")),(bt=document.getElementById("search-input"))&&(bt.focus(),bt.onkeyup=function(t){if("Enter"===t.key||13===t.keyCode){var e=W.querySelector(".server, .connect-option");e&&e.click()}},wt=0,Y=function(t,e){var n;t.placeholder=io("Label").t(ws||(ws=tu(["Countries, cities, servers"],["Countries, cities, servers"])));var r=function(){var n,r=t.value;((null===(n=t.parentNode)||void 0===n?void 0:n.querySelectorAll(".reset-button"))||[]).forEach((function(t){t.style.display=""===r?"none":"block",t.setAttribute("tabindex",""===r?"-1":"0")})),e(r)};return t.addEventListener("input",r),((null===(n=t.parentNode)||void 0===n?void 0:n.querySelectorAll(".reset-button"))||[]).forEach((function(e){e.addEventListener("click",(function(){t.value="",r()}))})),r}(bt,(function(t){return Nf(void 0,void 0,void 0,(function(){var e,n;return If(this,(function(r){switch(r.label){case 0:return e=Date.now(),wt=e,n=""!==t,W.querySelector(":scope > .spinner")||(W.innerHTML='<div class="spinner">\n\t\t\t\t\t<div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n\t\t\t\t</div>'),[4,Bi(n?300:1)];case 1:return r.sent(),wt!==e?[2]:(W.innerHTML=n?tf(B,t,G,j):Mu(B,G,j)||'<p class="not-found">\n\t\t\t\t\t'.concat(io("Error").t(od||(od=Af(["Unable to load the list"],["Unable to load the list"]))),"<br />\n\t\t\t\t\t<small>").concat(io("Error").t(id||(id=Af(["Please check your connectivity"],["Please check your connectivity"]))),"</small>\n\t\t\t\t</p>"),E(),Vu(),ot(),[2])}}))}))})),ul(T,j,{refresh:Y,upgradeNeeded:G<=0}),ul(xf,M),ul(P,D),ul(Pl,$),ul(ii,q,{buttonSelector:".crash-button"}),ul(sf,R,{refresh:function(){return Nf(void 0,void 0,void 0,(function(){return If(this,(function(t){switch(t.label){case 0:return[4,Df.connected?vf(void 0,void 0,void 0,(function(){return hf(this,(function(t){switch(t.label){case 0:return[4,sf.getDefined({value:!0})];case 1:return[4,t.sent().value?pf(Tl.DISABLED):pf(Tl.CLEAR)];case 2:return t.sent(),[2]}}))})):pf(Tl.CLEAR)];case 1:return t.sent(),[2]}}))}))}}),gf(_f,H,document,(function(){return Nf(void 0,void 0,void 0,(function(){return If(this,(function(t){switch(t.label){case 0:return Df.connected?[4,No(Oo.BYPASS_LIST,wf(G,H.value))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}),G<=0)),E(),xo({logicalUpdate:function(t){(null==t?void 0:t.length)&&(A=t)},changeState:function(n){switch(n.state){case"connected":Df.connected=!0,z.server=n.server,st(n.server),C(n.error);break;case"connecting":Df.connected=!1,z.server=n.server,st(n.server,!0),C(n.error);break;case"logged-out":vs(document.getElementById("sign-in-view"),e,t,r);break;case"disconnected":Df.connected=!1,z.server=void 0,st(n.server),C(n.error)}},error:C}),null==(_t=document.querySelector('*[data-page="settings"] .page-title'))||_t.addEventListener("dblclick",(function(t){var e=document.querySelector('*[data-page="settings"]');if(e){var n=t;n.ctrlKey&&n.altKey&&e.classList.toggle("debug-mode")}})),null==(xt=document.getElementById("max-tier"))||xt.addEventListener("input",(function(){return Nf(void 0,void 0,void 0,(function(){var t,e;return If(this,(function(r){switch(r.label){case 0:return t=n.g.logicalMaxTier||2,e=Number(xt.value),t===e?[2]:(n.g.logicalMaxTier=e,[4,ad()]);case 1:return r.sent(),[2]}}))}))})),[2]):[2]}var Ot,Tt,Pt}))}))};vi(ad()),window.addEventListener("message",(function(t){if(t.origin.startsWith(c)&&"endFork"===t.data){var e=document.getElementById("account-frame");e&&(e.style.display="none"),document.querySelectorAll(".main-area").forEach((function(t){t.style.display="block"}))}}),!1),window.addEventListener("unhandledrejection",fi),window.addEventListener("error",fi)}()}();